<!DOCTYPE html>
<html>
<head>
  <title>Surf</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="shortcut icon" type="image/png" href="images/surf-ico.png" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />  
  <link rel="stylesheet" type="text/css" href="css/token-input.css" />  
</head>
<body>

<script id="user_view" type="text/html">
<img class="{{ status }}" src="{{ avatar }}" alt="{{ name }}" title="{{ name }}"/>
</script>
    
<script id="wave_list_view" type="text/html">
    <a class="waveitem" href="#wave/{{ id }}">
        <h2>{{ title }}</h2>
        <p class="meta"><span class="usercount R">{{ usercount }} users</span> <span class="piros">{{ unreadPosts }}</span></p>
    </a>
</script>

<script id="wave_view" type="text/html">
    <div class="wave">
        <div class="wavetop">
            <h2 class="wave-title">{{ title }}</h2>
            <p class="heads">
                <p class="offline-list">+<span class="count">19</span> offline</p>
            </p>
            <div class="buttons">
                <a class="button gounread R" href="#">Next unread</a>
                <a class="button editwave R" href="#">Edit</a>
                <a class="button readall R" href="#">Read all</a>
                <a class="button quit R" href="#">Leave conversation</a>
            </div>
        </div>
        <div class="waves-container">
            <div class="messages">
                <div class="notification getprevmessages"><p><a class="getprevmessages R" href="#">Older messages</a></p></div>
            </div>
            <div class="notification replyform">
                <form class="add-message" method="post">
                    <input type="hidden" name="wave_id" value="{{ id }}"/>
                    <textarea name="message" placeholder="New message" class="R"></textarea>
                    <p class="inline-help"><button type="submit" class="button sendmsg R">Save message</button> <span class="R">Press Return to send, Shift-Return to break line.</span></p>
                </form>
            </div>
        </div>
    </div>
</script>

<script id="message_view" type="text/html">
    <div class="message" id="msg-{{id}}">
        <table class="unread" tabindex="-1">
            <tbody>
                <tr>
                    <td class="message-header">
                    </td>
                    <td class="message-body">
                        <a class="button reply" href="">&rarr;</a>
                        <p class="time">{{ dateFormatted }}</p>
                        <p class="message-text">
                            <span class="author">{{ user.name }}:</span> {{{ messageFormatted }}}
                        </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="replies">
        </div>
        <div class="notification threadend">
            <p><a class="button threadend" href=""><span class="R">New message</span> &darr;</a></p>
      </div>
    </div>    
</script>

<script id="replyform_view" type="text/html">
    <div class="notification replyform">
    <p><a class="button threadend cancel" href=""><span class="R">Cancel</span> &uarr;</a></p>
    <form class="add-message threadend" method="post">    
        <input type="hidden" name="wave_id" value="{{ waveId }}"/>
        <input type="hidden" name="parent_id" value="{{ id }}"/>
        <textarea name="message" placeholder="Reply to {{ user.name }}'s message" class="R"></textarea>
        <p class="inline-help"><button type="submit" class="button sendmsg R">Save message</button> <span class="R">Press Return to send, Shift-Return to break line.</span></p>
    </form>
    </div>
</script>

<script id="editwave_view" type="text/html">
<div id="editwave" class="overlay">
  <div class="overlay-title">
    <a class="close button R" href="">Close</a>
    <h2 class="R">New conversation</h2>
  </div>
  <div class="overlay-body">
    <h2 class="R">New conversation</h2>
    <form method="post">
      <div>
        <label for="editwave-title" class="R">Title</label>
        <div class="right">
          <input id="editwave-title" class="normal" name="title" type="text" />
        </div>
      </div>
      <div>
        <label for="editwave-users" class="R">Participants</label>
        <div class="right">
          <input id="editwave-users" name="userids" class="normal" type="text" />
        </div>
      </div>
      <div class="right">
        <button id="editwave-submit" type="submit" class="button R">Create</button>
      </div>
    </form>
  </div>
</div>
</script>

<script id="edituser_view" type="text/html">
<div id="edituser" class="overlay">
  <div class="overlay-title">
    <a class="close button R" href="">Close</a>
    <h2 class="R">Edit profile</h2>
  </div>
  <div class="overlay-body">
    <h2 class="R">Edit profile</h2>
    <form method="post">
      <div>
        <label for="edituser-name" class="R">Name</label>
        <div class="right">
          <input id="edituser-name" class="normal" name="name" type="text" />
        </div>
      </div>
      <div>
        <label for="edituser-avatar" class="R">Avatar</label>
        <div class="right">
          <input id="edituser-avatar" name="avatar" class="normal" type="text" />
        </div>
      </div>
      <div class="right">
        <button id="edituser-submit" type="submit" class="button R">Save</button>
      </div>
    </form>
  </div>
</div>
</script>

<div id="header">
  <h1>Surf</h1>
  <a href="#"><img id="header-logo" src="images/surf-logo.png" /></a>
  <a class="button addwave R" href="#">New conversation +</a>
  <div id="usermenu">
    <span id="currentuser"></span>
    <!--a class="button" href="#" onclick="return false;">Ismer≈ëseim</a-->
    <!--a class="button edituser R" href="#">Edit profile</a-->
    <a class="button R" href="/logout">Log out</a>
  </div>
</div>
<div id="wave-list"></div>
<div id="wavelist-bottom">
  <p>Surf &copy; 2013 <a href="mailto:zkiiito+surf@gmail.com">the Surf team</a></p>
</div>
<div id="wave-container"></div>

<div id="darken"></div>

<script src="socket.io/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="node/underscore/underscore-min.js"></script>
<script src="node/backbone/backbone-min.js"></script>
<script src="node/R.js/R.js"></script>
<script src="js/surf.min.js"></script>
</body>
</html>