!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.io=t():e.io=t()}((()=>"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:Function("return this")())(),function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./build/index.js")}({"./build/index.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.io=t.Manager=t.protocol=void 0;var i=n("./build/url.js"),o=n("./build/manager.js"),s=n("./build/socket.js");Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return s.Socket}});var a=n("./node_modules/debug/src/browser.js")("socket.io-client");e.exports=t=u;var c=t.managers={};function u(e,t){"object"===r(e)&&(t=e,e=void 0),t=t||{};var n,s=i.url(e),u=s.source,l=s.id,d=s.path,f=c[l]&&d in c[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(a("ignoring socket cache for %s",u),n=new o.Manager(u,t)):(c[l]||(a("new io instance for %s",u),c[l]=new o.Manager(u,t)),n=c[l]),s.query&&!t.query&&(t.query=s.query),n.socket(s.path,t)}t.io=u;var l=n("./node_modules/socket.io-parser/dist/index.js");Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return l.protocol}}),t.connect=u;var d=n("./build/manager.js");Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return d.Manager}})},"./build/manager.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;var u=n("./node_modules/engine.io-client/lib/index.js"),l=n("./build/socket.js"),d=n("./node_modules/component-emitter/index.js"),f=n("./node_modules/socket.io-parser/dist/index.js"),h=n("./build/on.js"),p=n("./node_modules/component-bind/index.js"),m=n("./node_modules/backo2/index.js"),g=n("./node_modules/debug/src/browser.js")("socket.io-client:manager"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(b,d);var t,n,v,y=a(b);function b(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,b),(n=y.call(this)).nsps={},n.subs=[],e&&"object"===r(e)&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",n.opts=t,n.reconnection(!1!==t.reconnection),n.reconnectionAttempts(t.reconnectionAttempts||1/0),n.reconnectionDelay(t.reconnectionDelay||1e3),n.reconnectionDelayMax(t.reconnectionDelayMax||5e3),n.randomizationFactor(t.randomizationFactor||.5),n.backoff=new m({min:n.reconnectionDelay(),max:n.reconnectionDelayMax(),jitter:n.randomizationFactor()}),n.timeout(null==t.timeout?2e4:t.timeout),n._readyState="closed",n.uri=e;var i=t.parser||f;return n.encoder=new i.Encoder,n.decoder=new i.Decoder,n._autoConnect=!1!==t.autoConnect,n._autoConnect&&n.open(),n}return t=b,(n=[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(g("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;g("opening %s",this.uri),this.engine=u(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var i=h.on(n,"open",function(){r.onopen(),e&&e()}),s=h.on(n,"error",function(n){g("error"),r.cleanup(),r._readyState="closed",o(c(b.prototype),"emit",t).call(t,"error",n),e?e(n):r.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;g("connect attempt will timeout after %d",a),0===a&&i.destroy();var l=setTimeout(function(){g("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error",new Error("timeout"))},a);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(i),this.subs.push(s),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){g("open"),this.cleanup(),this._readyState="open",o(c(b.prototype),"emit",this).call(this,"open");var e=this.engine;this.subs.push(h.on(e,"data",p(this,"ondata")),h.on(e,"ping",p(this,"onping")),h.on(e,"error",p(this,"onerror")),h.on(e,"close",p(this,"onclose")),h.on(this.decoder,"decoded",p(this,"ondecoded")))}},{key:"onping",value:function(){o(c(b.prototype),"emit",this).call(this,"ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){o(c(b.prototype),"emit",this).call(this,"packet",e)}},{key:"onerror",value:function(e){g("error",e),o(c(b.prototype),"emit",this).call(this,"error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new l.Socket(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return void g("socket %s is still active, skipping close",r)}this._close()}},{key:"_packet",value:function(e){g("writing packet %j",e),e.query&&0===e.type&&(e.nsp+="?"+e.query);for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){g("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.decoder.destroy()}},{key:"_close",value:function(){g("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e){g("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",o(c(b.prototype),"emit",this).call(this,"close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)g("reconnect failed"),this.backoff.reset(),o(c(b.prototype),"emit",this).call(this,"reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();g("will wait %dms before reconnect attempt",n),this._reconnecting=!0;var r=setTimeout(function(){t.skipReconnect||(g("attempting reconnect"),o(c(b.prototype),"emit",e).call(e,"reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(function(n){n?(g("reconnect attempt error"),t._reconnecting=!1,t.reconnect(),o(c(b.prototype),"emit",e).call(e,"reconnect_error",n)):(g("reconnect success"),t.onreconnect())}))},n);this.subs.push({destroy:function(){clearTimeout(r)}})}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),o(c(b.prototype),"emit",this).call(this,"reconnect",e)}}])&&i(t.prototype,n),v&&i(t,v),b}();t.Manager=v},"./build/on.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),{destroy:function(){e.off(t,n)}}}},"./build/socket.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;var d=n("./node_modules/socket.io-parser/dist/index.js"),f=n("./node_modules/component-emitter/index.js"),h=n("./build/on.js"),p=n("./node_modules/component-bind/index.js"),m=n("./node_modules/debug/src/browser.js")("socket.io-client:socket"),g=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(v,f);var t,n,r,o=u(v);function v(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(r=o.call(this)).ids=0,r.acks={},r.receiveBuffer=[],r.sendBuffer=[],r.flags={},r.io=e,r.nsp=t,r.ids=0,r.acks={},r.receiveBuffer=[],r.sendBuffer=[],r.connected=!1,r.disconnected=!0,r.flags={},n&&n.auth&&(r.auth=n.auth),r.io._autoConnect&&r.open(),r}return t=v,(n=[{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[h.on(e,"open",p(this,"onopen")),h.on(e,"packet",p(this,"onpacket")),h.on(e,"close",p(this,"onclose"))]}}},{key:"connect",value:function(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen(),this)}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(g.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var i={type:d.PacketType.EVENT,data:n,options:{}};i.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(m("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),i.id=this.ids++);var o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)?m("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;m("transport is open - connecting"),"function"==typeof this.auth?this.auth(function(t){e.packet({type:d.PacketType.CONNECT,data:t})}):this.packet({type:d.PacketType.CONNECT,data:this.auth})}},{key:"onclose",value:function(e){m("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,a(l(v.prototype),"emit",this).call(this,"disconnect",e)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case d.PacketType.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else a(l(v.prototype),"emit",this).call(this,"connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case d.PacketType.EVENT:case d.PacketType.BINARY_EVENT:this.onevent(e);break;case d.PacketType.ACK:case d.PacketType.BINARY_ACK:this.onack(e);break;case d.PacketType.DISCONNECT:this.ondisconnect();break;case d.PacketType.CONNECT_ERROR:var n=new Error(e.data.message);n.data=e.data.data,a(l(v.prototype),"emit",this).call(this,"connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];m("emitting event %j",t),null!=e.id&&(m("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,n=i(this._anyListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e)}}catch(e){n.e(e)}finally{n.f()}}a(l(v.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];m("sending ack %j",i),t.packet({type:d.PacketType.ACK,id:e,data:i})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"==typeof t?(m("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):m("bad ack %s",e.id)}},{key:"onconnect",value:function(e){m("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,a(l(v.prototype),"emit",this).call(this,"connect"),this.emitBuffered()}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach(function(t){return e.emitEvent(t)}),this.receiveBuffer=[],this.sendBuffer.forEach(function(t){return e.packet(t)}),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){m("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&(m("performing disconnect (%s)",this.nsp),this.packet({type:d.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"active",get:function(){return!!this.subs}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}}])&&s(t.prototype,n),r&&s(t,r),v}();t.Socket=v},"./build/url.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;var r=n("./node_modules/parseuri/index.js"),i=n("./node_modules/debug/src/browser.js")("socket.io-client:url");t.url=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},"./node_modules/backo2/index.js":function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),d=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],d[u++]=r<<2|i>>4,d[u++]=(15&i)<<4|o>>2,d[u++]=(3&o)<<6|63&s;return l}}()},"./node_modules/component-bind/index.js":function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},"./node_modules/component-emitter/index.js":function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},"./node_modules/debug/src/browser.js":function(e,t,n){(function(r){function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(i=++r)}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n("./node_modules/debug/src/common.js")(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/debug/src/common.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return i.colors[Math.abs(t)%i.colors.length]}function i(e){var n;function r(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];if(r.enabled){var s=r,a=Number(new Date),c=a-(n||a);s.diff=c,s.prev=n,s.curr=a,n=a,t[0]=i.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var u=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;u++;var r=i.formatters[n];if("function"==typeof r){var o=t[u];e=r.call(s,o),t.splice(u,1),u--}return e}),i.formatArgs.call(s,t),(s.log||i.log).apply(s,t)}}return r.namespace=e,r.enabled=i.enabled(e),r.useColors=i.useColors(),r.color=t(e),r.destroy=o,r.extend=s,"function"==typeof i.init&&i.init(r),i.instances.push(r),r}function o(){var e=i.instances.indexOf(this);return-1!==e&&(i.instances.splice(e,1),!0)}function s(e,t){var n=i(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function a(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return i.debug=i,i.default=i,i.coerce=function(e){return e instanceof Error?e.stack||e.message:e},i.disable=function(){var e=[].concat(r(i.names.map(a)),r(i.skips.map(a).map(function(e){return"-"+e}))).join(",");return i.enable(""),e},i.enable=function(e){var t;i.save(e),i.names=[],i.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(t=0;t<r;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?i.skips.push(new RegExp("^"+e.substr(1)+"$")):i.names.push(new RegExp("^"+e+"$")));for(t=0;t<i.instances.length;t++){var o=i.instances[t];o.enabled=i.enabled(o.namespace)}},i.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=i.skips.length;t<n;t++)if(i.skips[t].test(e))return!1;for(t=0,n=i.names.length;t<n;t++)if(i.names[t].test(e))return!0;return!1},i.humanize=n("./node_modules/ms/index.js"),Object.keys(e).forEach(function(t){i[t]=e[t]}),i.instances=[],i.names=[],i.skips=[],i.formatters={},i.selectColor=t,i.enable(i.load()),i}},"./node_modules/engine.io-client/lib/globalThis.browser.js":function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},"./node_modules/engine.io-client/lib/index.js":function(e,t,n){var r=n("./node_modules/engine.io-client/lib/socket.js");e.exports=function(e,t){return new r(e,t)},e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n("./node_modules/engine.io-client/lib/transport.js"),e.exports.transports=n("./node_modules/engine.io-client/lib/transports/index.js"),e.exports.parser=n("./node_modules/engine.io-parser/lib/index.js")},"./node_modules/engine.io-client/lib/socket.js":function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/engine.io-client/lib/transports/index.js"),l=n("./node_modules/component-emitter/index.js"),d=n("./node_modules/debug/src/browser.js")("engine.io-client:socket"),f=n("./node_modules/engine.io-parser/lib/index.js"),h=n("./node_modules/parseuri/index.js"),p=n("./node_modules/parseqs/index.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(g,l);var t,n,c,m=a(g);function g(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),t=m.call(this),e&&"object"===i(e)&&(n=e,e=null),e?(e=h(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=h(n.host).host),t.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=t.secure?"443":"80"),t.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),t.port=n.port||("undefined"!=typeof location&&location.port?location.port:t.secure?443:80),t.transports=n.transports||["polling","websocket"],t.readyState="",t.writeBuffer=[],t.prevBufferLen=0,t.opts=r({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},n),t.opts.path=t.opts.path.replace(/\/$/,"")+"/","string"==typeof t.opts.query&&(t.opts.query=p.decode(t.opts.query)),t.id=null,t.upgrades=null,t.pingInterval=null,t.pingTimeout=null,t.pingTimeoutTimer=null,t.open(),t}return t=g,(n=[{key:"createTransport",value:function(e){d('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=f.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=r({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return d("options: %j",n),new u[e](n)}},{key:"open",value:function(){var e;if(this.opts.rememberUpgrade&&g.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return d("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){d("setting transport %s",e.name);var t=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})}},{key:"probe",value:function(e){d('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(d('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(d('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;g.priorWebsocketSuccess="websocket"===t.name,d('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(d("changing transport and sending upgrade packet"),l(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{d('probe transport "%s" failed',e);var o=new Error("probe error");o.transport=t.name,r.emit("upgradeError",o)}}))}function o(){n||(n=!0,l(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,o(),d('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function a(){s("transport closed")}function c(){s("socket closed")}function u(e){t&&e.name!==t.name&&(d('"%s" works - aborting "%s"',e.name,t.name),o())}function l(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",a),r.removeListener("close",c),r.removeListener("upgrading",u)}g.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",a),this.once("close",c),this.once("upgrading",u),t.open()}},{key:"onOpen",value:function(){if(d("socket open"),this.readyState="open",g.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){d("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)}},{key:"onHandshake",value:function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(function(){e.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this;function t(){e.onClose("forced close"),d("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()),this}},{key:"onError",value:function(e){d("socket error %j",e),g.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){d('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}])&&o(t.prototype,n),c&&o(t,c),g}();m.priorWebsocketSuccess=!1,m.protocol=f.protocol,e.exports=m},"./node_modules/engine.io-client/lib/transport.js":function(e,t,n){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/engine.io-parser/lib/index.js"),u=n("./node_modules/component-emitter/index.js"),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,u);var t,n,r,a=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this)).opts=e,t.query=e.query,t.readyState="",t.socket=e.socket,t}return t=l,(n=[{key:"onError",value:function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,this.emit("open")}},{key:"onData",value:function(e){var t=c.decodePacket(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){this.emit("packet",e)}},{key:"onClose",value:function(){this.readyState="closed",this.emit("close")}}])&&i(t.prototype,n),r&&i(t,r),l}();e.exports=l},"./node_modules/engine.io-client/lib/transports/index.js":function(e,t,n){var r=n("./node_modules/engine.io-client/lib/xmlhttprequest.js"),i=n("./node_modules/engine.io-client/lib/transports/polling-xhr.js"),o=n("./node_modules/engine.io-client/lib/transports/polling-jsonp.js"),s=n("./node_modules/engine.io-client/lib/transports/websocket.js");t.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),t=e.hostname!==location.hostname||c!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},t.websocket=s},"./node_modules/engine.io-client/lib/transports/polling-jsonp.js":function(e,t,n){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return c(e)}(this,n)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,d=n("./node_modules/engine.io-client/lib/transports/polling.js"),f=n("./node_modules/engine.io-client/lib/globalThis.browser.js"),h=/\n/g,p=/\\n/g;function m(){}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(v,d);var t,n,r,g=a(v);function v(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),(t=g.call(this,e)).query=t.query||{},l||(l=f.___eio=f.___eio||[]),t.index=l.length;var n=c(t);return l.push(function(e){n.onData(e)}),t.query.j=t.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=m)},!1),t}return t=v,(n=[{key:"doClose",value:function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o(u(v.prototype),"doClose",this).call(this)}},{key:"doPoll",value:function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)}},{key:"doWrite",value:function(e,t){var n,r=this;if(!this.form){var i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function a(){c(),t()}function c(){if(r.iframe)try{r.form.removeChild(r.iframe)}catch(e){r.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+r.iframeId+'">';n=document.createElement(e)}catch(e){(n=document.createElement("iframe")).name=r.iframeId,n.src="javascript:0"}n.id=r.iframeId,r.form.appendChild(n),r.iframe=n}this.form.action=this.uri(),c(),e=e.replace(p,"\\\n"),this.area.value=e.replace(h,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===r.iframe.readyState&&a()}:this.iframe.onload=a}},{key:"supportsBinary",get:function(){return!1}}])&&i(t.prototype,n),r&&i(t,r),v}();e.exports=g},"./node_modules/engine.io-client/lib/transports/polling-xhr.js":function(e,t,n){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n("./node_modules/engine.io-client/lib/xmlhttprequest.js"),h=n("./node_modules/engine.io-client/lib/transports/polling.js"),p=n("./node_modules/component-emitter/index.js"),m=n("./node_modules/engine.io-client/lib/util.js").pick,g=n("./node_modules/engine.io-client/lib/globalThis.browser.js"),v=n("./node_modules/debug/src/browser.js")("engine.io-client:polling-xhr");function y(){}var b=null!=new f({xdomain:!1}).responseType,w=function(e){c(n,h);var t=l(n);function n(e){var r;if(o(this,n),r=t.call(this,e),"undefined"!=typeof location){var i="https:"===location.protocol,s=location.port;s||(s=i?443:80),r.xd="undefined"!=typeof location&&e.hostname!==location.hostname||s!==e.port,r.xs=e.secure!==i}var a=e&&e.forceBase64;return r.supportsBinary=b&&!a,r}return a(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(e,{xd:this.xd,xs:this.xs},this.opts),new k(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this.request({method:"POST",data:e}),r=this;n.on("success",t),n.on("error",function(e){r.onError("xhr post error",e)})}},{key:"doPoll",value:function(){v("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e}}]),n}(),k=function(e){c(n,p);var t=l(n);function n(e,r){var i;return o(this,n),(i=t.call(this)).opts=r,i.method=r.method||"GET",i.uri=e,i.async=!1!==r.async,i.data=void 0!==r.data?r.data:null,i.create(),i}return a(n,[{key:"create",value:function(){var e=m(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var t=this.xhr=new f(e),r=this;try{v("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i])}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){r.onLoad()},t.onerror=function(){r.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?r.onLoad():setTimeout(function(){r.onError("number"==typeof t.status?t.status:0)},0))},v("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(e){this.emit("data",e),this.onSuccess()}},{key:"onError",value:function(e){this.emit("error",e),this.cleanup(!0)}},{key:"cleanup",value:function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=y:this.xhr.onreadystatechange=y,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&this.onData(e)}},{key:"hasXDR",value:function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}},{key:"abort",value:function(){this.cleanup()}}]),n}();if(k.requestsCount=0,k.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",_);else if("function"==typeof addEventListener){addEventListener("onpagehide"in g?"pagehide":"unload",_,!1)}function _(){for(var e in k.requests)k.requests.hasOwnProperty(e)&&k.requests[e].abort()}e.exports=w,e.exports.Request=k},"./node_modules/engine.io-client/lib/transports/polling.js":function(e,t,n){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/engine.io-client/lib/transport.js"),u=n("./node_modules/parseqs/index.js"),l=n("./node_modules/engine.io-parser/lib/index.js"),d=n("./node_modules/yeast/index.js"),f=n("./node_modules/debug/src/browser.js")("engine.io-client:polling"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,c);var t,n,r,a=s(h);function h(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),a.apply(this,arguments)}return t=h,(n=[{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;function n(){f("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(f("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){f("pre-pause polling complete"),--r||n()})),this.writable||(f("we are currently writing - waiting to pause"),r++,this.once("drain",function(){f("pre-pause writing complete"),--r||n()}))}else n()}},{key:"poll",value:function(){f("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(e){var t=this;f("polling got data %s",e);l.decodePayload(e,this.socket.binaryType).forEach(function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():f('ignoring poll - transport state "%s"',this.readyState))}},{key:"doClose",value:function(){var e=this;function t(){f("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(f("transport open - closing"),t()):(f("transport not open - deferring close"),this.once("open",t))}},{key:"write",value:function(e){var t=this;this.writable=!1,l.encodePayload(e,function(e){t.doWrite(e,function(){t.writable=!0,t.emit("drain")})})}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=d()),this.supportsBinary||e.sid||(e.b64=1),e=u.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"name",get:function(){return"polling"}}])&&i(t.prototype,n),r&&i(t,r),h}();e.exports=h},"./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js":function(e,t,n){var r=n("./node_modules/engine.io-client/lib/globalThis.browser.js");e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}},"./node_modules/engine.io-client/lib/transports/websocket.js":function(e,t,n){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/engine.io-client/lib/transport.js"),u=n("./node_modules/engine.io-parser/lib/index.js"),l=n("./node_modules/parseqs/index.js"),d=n("./node_modules/yeast/index.js"),f=n("./node_modules/engine.io-client/lib/util.js").pick,h=n("./node_modules/engine.io-client/lib/transports/websocket-constructor.browser.js"),p=h.WebSocket,m=h.usingBrowserWebSocket,g=h.defaultBinaryType,v=n("./node_modules/debug/src/browser.js")("engine.io-client:websocket"),y="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,c);var t,n,r,a=s(h);function h(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(t=a.call(this,e)).supportsBinary=!e.forceBase64,t}return t=h,(n=[{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=y?{}:f(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=m&&!y?t?new p(e,t):new p(e):new p(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||g,this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){u.encodePacket(e,t.supportsBinary,function(r){var i={};m||(e.options&&(i.compress=e.options.compress),t.opts.perMessageDeflate&&("string"==typeof r?Buffer.byteLength(r):r.length)<t.opts.perMessageDeflate.threshold&&(i.compress=!1));try{m?t.ws.send(r):t.ws.send(r,i)}catch(e){v("websocket closed before onclose event")}--n||o()})}(e[r]);function o(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}}},{key:"onClose",value:function(){c.prototype.onClose.call(this)}},{key:"doClose",value:function(){void 0!==this.ws&&this.ws.close()}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";return this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=d()),this.supportsBinary||(e.b64=1),(e=l.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},{key:"check",value:function(){return!(!p||"__initialize"in p&&this.name===h.prototype.name)}},{key:"name",get:function(){return"websocket"}}])&&i(t.prototype,n),r&&i(t,r),h}();e.exports=b},"./node_modules/engine.io-client/lib/util.js":function(e,t){e.exports.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(t,n){return t[n]=e[n],t},{})}},"./node_modules/engine.io-client/lib/xmlhttprequest.js":function(e,t,n){var r=n("./node_modules/has-cors/index.js"),i=n("./node_modules/engine.io-client/lib/globalThis.browser.js");e.exports=function(e){var t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},"./node_modules/engine.io-parser/lib/commons.js":function(e,t){var n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";var r=Object.create(null);Object.keys(n).forEach(function(e){r[n[e]]=e});e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},"./node_modules/engine.io-parser/lib/decodePacket.browser.js":function(e,t,n){var r,i=n("./node_modules/engine.io-parser/lib/commons.js"),o=i.PACKET_TYPES_REVERSE,s=i.ERROR_PACKET;"function"==typeof ArrayBuffer&&(r=n("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js"));var a=function(e,t){if(r){var n=r.decode(e);return c(n,t)}return{base64:!0,data:e}},c=function(e,t){switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};e.exports=function(e,t){if("string"!=typeof e)return{type:"message",data:c(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:a(e.substring(1),t)}:o[n]?e.length>1?{type:o[n],data:e.substring(1)}:{type:o[n]}:s}},"./node_modules/engine.io-parser/lib/encodePacket.browser.js":function(e,t,n){var r=n("./node_modules/engine.io-parser/lib/commons.js").PACKET_TYPES,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,s=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=function(e,t,n){var a,c=e.type,u=e.data;return i&&u instanceof Blob?t?n(u):s(u,n):o&&(u instanceof ArrayBuffer||(a=u,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer))?t?n(u instanceof ArrayBuffer?u:u.buffer):s(new Blob([u]),n):n(r[c]+(u||""))}},"./node_modules/engine.io-parser/lib/index.js":function(e,t,n){var r=n("./node_modules/engine.io-parser/lib/encodePacket.browser.js"),i=n("./node_modules/engine.io-parser/lib/decodePacket.browser.js"),o=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:function(e,t){var n=e.length,i=new Array(n),s=0;e.forEach(function(e,a){r(e,!1,function(e){i[a]=e,++s===n&&t(i.join(o))})})},decodePacket:i,decodePayload:function(e,t){for(var n=e.split(o),r=[],s=0;s<n.length;s++){var a=i(n[s],t);if(r.push(a),"error"===a.type)break}return r}}},"./node_modules/has-cors/index.js":function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},"./node_modules/ms/index.js":function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=1e3,i=60*r,o=60*i,s=24*o,a=7*s,c=365.25*s;function u(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var l=n(e);if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"weeks":case"week":case"w":return n*a;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===l&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return u(e,t,s,"day");if(t>=o)return u(e,t,o,"hour");if(t>=i)return u(e,t,i,"minute");if(t>=r)return u(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},"./node_modules/parseqs/index.js":function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},"./node_modules/parseuri/index.js":function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s,a,c=n.exec(e||""),u={},l=14;l--;)u[r[l]]=c[l]||"";return-1!=i&&-1!=o&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,u.path),u.queryKey=(s=u.query,a={},s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(a[t]=n)}),a),u}},"./node_modules/process/browser.js":function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],l=!1,d=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},"./node_modules/socket.io-parser/dist/binary.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;var i=n("./node_modules/socket.io-parser/dist/is-binary.js");t.deconstructPacket=function(e){var t=[],n=e.data,o=e;return o.data=function e(t,n){if(!t)return t;if(i.isBinary(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(Array.isArray(t)){for(var s=new Array(t.length),a=0;a<t.length;a++)s[a]=e(t[a],n);return s}if("object"===r(t)&&!(t instanceof Date)){var c={};for(var u in t)t.hasOwnProperty(u)&&(c[u]=e(t[u],n));return c}return t}(n,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=e(t[i],n);else if("object"===r(t))for(var o in t)t.hasOwnProperty(o)&&(t[o]=e(t[o],n));return t}(e.data,t),e.attachments=void 0,e}},"./node_modules/socket.io-parser/dist/index.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var o=a(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;var d,f=n("./node_modules/component-emitter/index.js"),h=n("./node_modules/socket.io-parser/dist/binary.js"),p=n("./node_modules/socket.io-parser/dist/is-binary.js"),m=n("./node_modules/debug/src/browser.js")("socket.io-parser");t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(d=t.PacketType||(t.PacketType={}));var g=function(){function e(){c(this,e)}return l(e,[{key:"encode",value:function(e){return m("encoding packet %j",e),e.type!==d.EVENT&&e.type!==d.ACK||!p.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===d.EVENT?d.BINARY_EVENT:d.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==d.BINARY_EVENT&&e.type!==d.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),m("encoded %j as %s",e,t),t}},{key:"encodeAsBinary",value:function(e){var t=h.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}();t.Encoder=g;var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,f);var t=s(n);function n(){return c(this,n),t.call(this)}return l(n,[{key:"add",value:function(e){var t;if("string"==typeof e)(t=this.decodeString(e)).type===d.BINARY_EVENT||t.type===d.BINARY_ACK?(this.reconstructor=new y(t),0===t.attachments&&i(a(n.prototype),"emit",this).call(this,"decoded",t)):i(a(n.prototype),"emit",this).call(this,"decoded",t);else{if(!p.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,i(a(n.prototype),"emit",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===d[r.type])throw new Error("unknown packet type "+r.type);if(r.type===d.BINARY_EVENT||r.type===d.BINARY_ACK){for(var i=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(i,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var s=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(s,t)}else r.nsp="/";var a=e.charAt(t+1);if(""!==a&&Number(a)==a){for(var c=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){var l=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!n.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return m("decoded %s as %j",e,r),r}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case d.CONNECT:return"object"===r(t);case d.DISCONNECT:return void 0===t;case d.CONNECT_ERROR:return"string"==typeof t||"object"===r(t);case d.EVENT:case d.BINARY_EVENT:return Array.isArray(t)&&"string"==typeof t[0];case d.ACK:case d.BINARY_ACK:return Array.isArray(t)}}}]),n}();t.Decoder=v;var y=function(){function e(t){c(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return l(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}()},"./node_modules/socket.io-parser/dist/is-binary.js":function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;var i="function"==typeof ArrayBuffer,o=function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},s=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),c="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function u(e){return i&&(e instanceof ArrayBuffer||o(e))||a&&e instanceof Blob||c&&e instanceof File}t.isBinary=u,t.hasBinary=function e(t,n){if(!t||"object"!==r(t))return!1;if(Array.isArray(t)){for(var i=0,o=t.length;i<o;i++)if(e(t[i]))return!0;return!1}if(u(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&e(t[s]))return!0;return!1}},"./node_modules/yeast/index.js":function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o=64,s={},a=0,c=0;function u(e){var t="";do{t=i[e%o]+t,e=Math.floor(e/o)}while(e>0);return t}function l(){var e=u(+new Date);return e!==r?(a=0,r=e):e+"."+u(a++)}for(;c<o;c++)s[i[c]]=c;l.encode=u,l.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*o+s[e.charAt(c)];return t},e.exports=l}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e=e||self,function(){var n=e._,r=e._=t();r.noConflict=function(){return e._=n,r}}())}(this,function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},t=Array.prototype,n=Object.prototype,r="undefined"!=typeof Symbol?Symbol.prototype:null,i=t.push,o=t.slice,s=n.toString,a=n.hasOwnProperty,c="undefined"!=typeof ArrayBuffer,u="undefined"!=typeof DataView,l=Array.isArray,d=Object.keys,f=Object.create,h=c&&ArrayBuffer.isView,p=isNaN,m=isFinite,g=!{toString:null}.propertyIsEnumerable("toString"),v=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=Math.pow(2,53)-1;function b(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}}function w(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function k(e){return void 0===e}function _(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)}function x(e){var t="[object "+e+"]";return function(e){return s.call(e)===t}}var C=x("String"),T=x("Number"),O=x("Date"),j=x("RegExp"),E=x("Error"),S=x("Symbol"),A=x("ArrayBuffer"),M=x("Function"),R=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof R&&(M=function(e){return"function"==typeof e||!1});var P=M,N=x("Object"),I=u&&N(new DataView(new ArrayBuffer(8))),L="undefined"!=typeof Map&&N(new Map),U=x("DataView");var $=I?function(e){return null!=e&&P(e.getInt8)&&A(e.buffer)}:U,B=l||x("Array");function F(e,t){return null!=e&&a.call(e,t)}var D=x("Arguments");!function(){D(arguments)||(D=function(e){return F(e,"callee")})}();var W=D;function z(e){return T(e)&&p(e)}function V(e){return function(){return e}}function q(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=y}}function H(e){return function(t){return null==t?void 0:t[e]}}var K=H("byteLength"),Y=q(K),J=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;var X=c?function(e){return h?h(e)&&!$(e):Y(e)&&J.test(s.call(e))}:V(!1),G=H("length");function Q(e,t){t=function(e){for(var t={},n=e.length,r=0;r<n;++r)t[e[r]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var r=v.length,i=e.constructor,o=P(i)&&i.prototype||n,s="constructor";for(F(e,s)&&!t.contains(s)&&t.push(s);r--;)(s=v[r])in e&&e[s]!==o[s]&&!t.contains(s)&&t.push(s)}function Z(e){if(!w(e))return[];if(d)return d(e);var t=[];for(var n in e)F(e,n)&&t.push(n);return g&&Q(e,t),t}function ee(e,t){var n=Z(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var s=n[o];if(t[s]!==i[s]||!(s in i))return!1}return!0}function te(e){return e instanceof te?e:this instanceof te?void(this._wrapped=e):new te(e)}function ne(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,K(e))}te.VERSION="1.12.0",te.prototype.value=function(){return this._wrapped},te.prototype.valueOf=te.prototype.toJSON=te.prototype.value,te.prototype.toString=function(){return String(this._wrapped)};var re="[object DataView]";function ie(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;return("function"===o||"object"===o||"object"==typeof t)&&function e(t,n,i,o){t instanceof te&&(t=t._wrapped);n instanceof te&&(n=n._wrapped);var a=s.call(t);if(a!==s.call(n))return!1;if(I&&"[object Object]"==a&&$(t)){if(!$(n))return!1;a=re}switch(a){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return r.valueOf.call(t)===r.valueOf.call(n);case"[object ArrayBuffer]":case re:return e(ne(t),ne(n),i,o)}var c="[object Array]"===a;if(!c&&X(t)){var u=K(t);if(u!==K(n))return!1;if(t.buffer===n.buffer&&t.byteOffset===n.byteOffset)return!0;c=!0}if(!c){if("object"!=typeof t||"object"!=typeof n)return!1;var l=t.constructor,d=n.constructor;if(l!==d&&!(P(l)&&l instanceof l&&P(d)&&d instanceof d)&&"constructor"in t&&"constructor"in n)return!1}i=i||[];o=o||[];var f=i.length;for(;f--;)if(i[f]===t)return o[f]===n;i.push(t);o.push(n);if(c){if((f=t.length)!==n.length)return!1;for(;f--;)if(!ie(t[f],n[f],i,o))return!1}else{var h,p=Z(t);if(f=p.length,Z(n).length!==f)return!1;for(;f--;)if(h=p[f],!F(n,h)||!ie(t[h],n[h],i,o))return!1}i.pop();o.pop();return!0}(e,t,n,i)}function oe(e){if(!w(e))return[];var t=[];for(var n in e)t.push(n);return g&&Q(e,t),t}function se(e){var t=G(e);return function(n){if(null==n)return!1;var r=oe(n);if(G(r))return!1;for(var i=0;i<t;i++)if(!P(n[e[i]]))return!1;return e!==de||!P(n[ae])}}var ae="forEach",ce=["clear","delete"],ue=["get","has","set"],le=ce.concat(ae,ue),de=ce.concat(ue),fe=["add"].concat(ce,ae,"has"),he=L?se(le):x("Map"),pe=L?se(de):x("WeakMap"),me=L?se(fe):x("Set"),ge=x("WeakSet");function ve(e){for(var t=Z(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r}function ye(e){for(var t={},n=Z(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t}function be(e){var t=[];for(var n in e)P(e[n])&&t.push(n);return t.sort()}function we(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],s=e(o),a=s.length,c=0;c<a;c++){var u=s[c];t&&void 0!==n[u]||(n[u]=o[u])}return n}}var ke=we(oe),_e=we(Z),xe=we(oe,!0);function Ce(e){if(!w(e))return{};if(f)return f(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Te(e){return w(e)?B(e)?e.slice():ke({},e):e}function Oe(e){return B(e)?e:[e]}function je(e){return te.toPath(e)}function Ee(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0}function Se(e,t,n){var r=Ee(e,je(t));return k(r)?n:r}function Ae(e){return e}function Me(e){return e=_e({},e),function(t){return ee(t,e)}}function Re(e){return e=je(e),function(t){return Ee(t,e)}}function Pe(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return null==e?Ae:P(e)?Pe(e,t,n):w(e)&&!B(e)?Me(e):Re(e)}function Ie(e,t){return Ne(e,t,1/0)}function Le(e,t,n){return te.iteratee!==Ie?te.iteratee(e,t):Ne(e,t,n)}function Ue(){}function $e(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}te.toPath=Oe,te.iteratee=Ie;var Be=Date.now||function(){return(new Date).getTime()};function Fe(e){var t=function(t){return e[t]},n="(?:"+Z(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}}var De={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},We=Fe(De),ze=Fe(ye(De)),Ve=te.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},qe=/(.)^/,He={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ke=/\\|'|\r|\n|\u2028|\u2029/g;function Ye(e){return"\\"+He[e]}var Je=0;function Xe(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=Ce(e.prototype),s=e.apply(o,i);return w(s)?s:o}var Ge=b(function(e,t){var n=Ge.placeholder,r=function(){for(var i=0,o=t.length,s=Array(o),a=0;a<o;a++)s[a]=t[a]===n?arguments[i++]:t[a];for(;i<arguments.length;)s.push(arguments[i++]);return Xe(e,r,this,this,s)};return r});Ge.placeholder=te;var Qe=b(function(e,t,n){if(!P(e))throw new TypeError("Bind must be called on a function");var r=b(function(i){return Xe(e,r,t,this,n.concat(i))});return r}),Ze=q(G);function et(e,t,n,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(e)}else t=1/0;for(var i=r.length,o=0,s=G(e);o<s;o++){var a=e[o];if(Ze(a)&&(B(a)||W(a)))if(t>1)et(a,t-1,n,r),i=r.length;else for(var c=0,u=a.length;c<u;)r[i++]=a[c++];else n||(r[i++]=a)}return r}var tt=b(function(e,t){var n=(t=et(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=Qe(e[r],e)}return e});var nt=b(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),rt=Ge(nt,te,1);function it(e){return function(){return!e.apply(this,arguments)}}function ot(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var st=Ge(ot,2);function at(e,t,n){t=Le(t,n);for(var r,i=Z(e),o=0,s=i.length;o<s;o++)if(t(e[r=i[o]],r,e))return r}function ct(e){return function(t,n,r){n=Le(n,r);for(var i=G(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}var ut=ct(1),lt=ct(-1);function dt(e,t,n,r){for(var i=(n=Le(n,r,1))(t),o=0,s=G(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<i?o=a+1:s=a}return o}function ft(e,t,n){return function(r,i,s){var a=0,c=G(r);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+c,a):c=s>=0?Math.min(s+1,c):s+c+1;else if(n&&s&&c)return r[s=n(r,i)]===i?s:-1;if(i!=i)return(s=t(o.call(r,a,c),z))>=0?s+a:-1;for(s=e>0?a:c-1;s>=0&&s<c;s+=e)if(r[s]===i)return s;return-1}}var ht=ft(1,ut,dt),pt=ft(-1,lt);function mt(e,t,n){var r=(Ze(e)?ut:at)(e,t,n);if(void 0!==r&&-1!==r)return e[r]}function gt(e,t,n){var r,i;if(t=Pe(t,n),Ze(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=Z(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e}function vt(e,t,n){t=Le(t,n);for(var r=!Ze(e)&&Z(e),i=(r||e).length,o=Array(i),s=0;s<i;s++){var a=r?r[s]:s;o[s]=t(e[a],a,e)}return o}function yt(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!Ze(t)&&Z(t),s=(o||t).length,a=e>0?0:s-1;for(i||(r=t[o?o[a]:a],a+=e);a>=0&&a<s;a+=e){var c=o?o[a]:a;r=n(r,t[c],c,t)}return r}(t,Pe(n,i,4),r,o)}}var bt=yt(1),wt=yt(-1);function kt(e,t,n){var r=[];return t=Le(t,n),gt(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r}function _t(e,t,n){t=Le(t,n);for(var r=!Ze(e)&&Z(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(!t(e[s],s,e))return!1}return!0}function xt(e,t,n){t=Le(t,n);for(var r=!Ze(e)&&Z(e),i=(r||e).length,o=0;o<i;o++){var s=r?r[o]:o;if(t(e[s],s,e))return!0}return!1}function Ct(e,t,n,r){return Ze(e)||(e=ve(e)),("number"!=typeof n||r)&&(n=0),ht(e,t,n)>=0}var Tt=b(function(e,t,n){var r,i;return P(t)?i=t:(t=je(t),r=t.slice(0,-1),t=t[t.length-1]),vt(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=Ee(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})});function Ot(e,t){return vt(e,Re(t))}function jt(e,t,n){var r,i,o=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,c=(e=Ze(e)?e:ve(e)).length;a<c;a++)null!=(r=e[a])&&r>o&&(o=r);else t=Le(t,n),gt(e,function(e,n,r){((i=t(e,n,r))>s||i===-1/0&&o===-1/0)&&(o=e,s=i)});return o}function Et(e,t,n){if(null==t||n)return Ze(e)||(e=ve(e)),e[$e(e.length-1)];var r=Ze(e)?Te(e):ve(e),i=G(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,s=0;s<t;s++){var a=$e(s,o),c=r[s];r[s]=r[a],r[a]=c}return r.slice(0,t)}function St(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=Le(r,i),gt(n,function(t,i){var s=r(t,i,n);e(o,t,s)}),o}}var At=St(function(e,t,n){F(e,n)?e[n].push(t):e[n]=[t]}),Mt=St(function(e,t,n){e[n]=t}),Rt=St(function(e,t,n){F(e,n)?e[n]++:e[n]=1}),Pt=St(function(e,t,n){e[n?0:1].push(t)},!0),Nt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function It(e,t,n){return t in n}var Lt=b(function(e,t){var n={},r=t[0];if(null==e)return n;P(r)?(t.length>1&&(r=Pe(r,t[1])),t=oe(e)):(r=It,t=et(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var s=t[i],a=e[s];r(a,s,e)&&(n[s]=a)}return n}),Ut=b(function(e,t){var n,r=t[0];return P(r)?(r=it(r),t.length>1&&(n=t[1])):(t=vt(et(t,!1,!1),String),r=function(e,n){return!Ct(t,n)}),Lt(e,r,n)});function $t(e,t,n){return o.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Bt(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:$t(e,e.length-t)}function Ft(e,t,n){return o.call(e,null==t||n?1:t)}var Dt=b(function(e,t){return t=et(t,!0,!0),kt(e,function(e){return!Ct(t,e)})}),Wt=b(function(e,t){return Dt(e,t)});function zt(e,t,n,r){_(t)||(r=n,n=t,t=!1),null!=n&&(n=Le(n,r));for(var i=[],o=[],s=0,a=G(e);s<a;s++){var c=e[s],u=n?n(c,s,e):c;t&&!n?(s&&o===u||i.push(c),o=u):n?Ct(o,u)||(o.push(u),i.push(c)):Ct(i,c)||i.push(c)}return i}var Vt=b(function(e){return zt(et(e,!0,!0))});function qt(e){for(var t=e&&jt(e,G).length||0,n=Array(t),r=0;r<t;r++)n[r]=Ot(e,r);return n}var Ht=b(qt);function Kt(e,t){return e._chain?te(t).chain():t}function Yt(e){return gt(be(e),function(t){var n=te[t]=e[t];te.prototype[t]=function(){var e=[this._wrapped];return i.apply(e,arguments),Kt(this,n.apply(te,e))}}),te}gt(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=t[e];te.prototype[e]=function(){var t=this._wrapped;return null!=t&&(n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0]),Kt(this,t)}}),gt(["concat","join","slice"],function(e){var n=t[e];te.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=n.apply(e,arguments)),Kt(this,e)}});var Jt=Yt({__proto__:null,VERSION:"1.12.0",restArguments:b,isObject:w,isNull:function(e){return null===e},isUndefined:k,isBoolean:_,isElement:function(e){return!(!e||1!==e.nodeType)},isString:C,isNumber:T,isDate:O,isRegExp:j,isError:E,isSymbol:S,isArrayBuffer:A,isDataView:$,isArray:B,isFunction:P,isArguments:W,isFinite:function(e){return!S(e)&&m(e)&&!isNaN(parseFloat(e))},isNaN:z,isTypedArray:X,isEmpty:function(e){if(null==e)return!0;var t=G(e);return"number"==typeof t&&(B(e)||C(e)||W(e))?0===t:0===G(Z(e))},isMatch:ee,isEqual:function(e,t){return ie(e,t)},isMap:he,isWeakMap:pe,isSet:me,isWeakSet:ge,keys:Z,allKeys:oe,values:ve,pairs:function(e){for(var t=Z(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},invert:ye,functions:be,methods:be,extend:ke,extendOwn:_e,assign:_e,defaults:xe,create:function(e,t){var n=Ce(e);return t&&_e(n,t),n},clone:Te,tap:function(e,t){return t(e),e},get:Se,has:function(e,t){for(var n=(t=je(t)).length,r=0;r<n;r++){var i=t[r];if(!F(e,i))return!1;e=e[i]}return!!n},mapObject:function(e,t,n){t=Le(t,n);for(var r=Z(e),i=r.length,o={},s=0;s<i;s++){var a=r[s];o[a]=t(e[a],a,e)}return o},identity:Ae,constant:V,noop:Ue,toPath:Oe,property:Re,propertyOf:function(e){return null==e?Ue:function(t){return Se(e,t)}},matcher:Me,matches:Me,times:function(e,t,n){var r=Array(Math.max(0,e));t=Pe(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},random:$e,now:Be,escape:We,unescape:ze,templateSettings:Ve,template:function(e,t,n){!t&&n&&(t=n),t=xe({},t,te.templateSettings);var r,i=RegExp([(t.escape||qe).source,(t.interpolate||qe).source,(t.evaluate||qe).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(i,function(t,n,r,i,a){return s+=e.slice(o,a).replace(Ke,Ye),o=a+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{r=new Function(t.variable||"obj","_",s)}catch(e){throw e.source=s,e}var a=function(e){return r.call(this,e,te)},c=t.variable||"obj";return a.source="function("+c+"){\n"+s+"}",a},result:function(e,t,n){var r=(t=je(t)).length;if(!r)return P(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=P(o)?o.call(e):o}return e},uniqueId:function(e){var t=++Je+"";return e?e+t:t},chain:function(e){var t=te(e);return t._chain=!0,t},iteratee:Ie,partial:Ge,bind:Qe,bindAll:tt,memoize:function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return F(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},delay:nt,defer:rt,throttle:function(e,t,n){var r,i,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:Be(),r=null,s=e.apply(i,o),r||(i=o=null)},u=function(){var u=Be();a||!1!==n.leading||(a=u);var l=t-(u-a);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),a=u,s=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(c,l)),s};return u.cancel=function(){clearTimeout(r),a=0,r=i=o=null},u},debounce:function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},s=b(function(s){if(r&&clearTimeout(r),n){var a=!r;r=setTimeout(o,t),a&&(i=e.apply(this,s))}else r=nt(o,t,this,s);return i});return s.cancel=function(){clearTimeout(r),r=null},s},wrap:function(e,t){return Ge(t,e)},negate:it,compose:function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},after:function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},before:ot,once:st,findKey:at,findIndex:ut,findLastIndex:lt,sortedIndex:dt,indexOf:ht,lastIndexOf:pt,find:mt,detect:mt,findWhere:function(e,t){return mt(e,Me(t))},each:gt,forEach:gt,map:vt,collect:vt,reduce:bt,foldl:bt,inject:bt,reduceRight:wt,foldr:wt,filter:kt,select:kt,reject:function(e,t,n){return kt(e,it(Le(t)),n)},every:_t,all:_t,some:xt,any:xt,contains:Ct,includes:Ct,include:Ct,invoke:Tt,pluck:Ot,where:function(e,t){return kt(e,Me(t))},max:jt,min:function(e,t,n){var r,i,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var a=0,c=(e=Ze(e)?e:ve(e)).length;a<c;a++)null!=(r=e[a])&&r<o&&(o=r);else t=Le(t,n),gt(e,function(e,n,r){((i=t(e,n,r))<s||i===1/0&&o===1/0)&&(o=e,s=i)});return o},shuffle:function(e){return Et(e,1/0)},sample:Et,sortBy:function(e,t,n){var r=0;return t=Le(t,n),Ot(vt(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")},groupBy:At,indexBy:Mt,countBy:Rt,partition:Pt,toArray:function(e){return e?B(e)?o.call(e):C(e)?e.match(Nt):Ze(e)?vt(e,Ae):ve(e):[]},size:function(e){return null==e?0:Ze(e)?e.length:Z(e).length},pick:Lt,omit:Ut,first:Bt,head:Bt,take:Bt,initial:$t,last:function(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Ft(e,Math.max(0,e.length-t))},rest:Ft,tail:Ft,drop:Ft,compact:function(e){return kt(e,Boolean)},flatten:function(e,t){return et(e,t,!1)},without:Wt,uniq:zt,unique:zt,union:Vt,intersection:function(e){for(var t=[],n=arguments.length,r=0,i=G(e);r<i;r++){var o=e[r];if(!Ct(t,o)){var s;for(s=1;s<n&&Ct(arguments[s],o);s++);s===n&&t.push(o)}}return t},difference:Dt,unzip:qt,transpose:qt,zip:Ht,object:function(e,t){for(var n={},r=0,i=G(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},range:function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},chunk:function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(o.call(e,r,r+=t));return n},mixin:Yt,default:te});return Jt._=Jt,Jt}),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(e){}e(t,exports,r,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,o=Array.prototype.slice;t.VERSION="1.4.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s,a=t.Events={},c=/\s+/,u=function(e,t,r,i,o){var s,a=0;if(r&&"object"==typeof r){void 0!==i&&"context"in o&&void 0===o.context&&(o.context=i);for(s=n.keys(r);a<s.length;a++)t=u(e,t,s[a],r[s[a]],o)}else if(r&&c.test(r))for(s=r.split(c);a<s.length;a++)t=e(t,s[a],i,o);else t=e(t,r,i,o);return t};a.on=function(e,t,n){(this._events=u(l,this._events||{},e,t,{context:n,ctx:this,listening:s}),s)&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1);return this},a.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=s=o[i];a||(this._listenId||(this._listenId=n.uniqueId("l")),a=s=o[i]=new g(this,e));var c=d(e,t,r,this);if(s=void 0,c)throw c;return a.interop&&a.on(t,r),this};var l=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),o=r.context,s=r.ctx,a=r.listening;a&&a.count++,i.push({callback:n,context:o,ctx:o||s,listening:a})}return e},d=function(e,t,n,r){try{e.on(t,n,r)}catch(e){return e}};a.off=function(e,t,n){return this._events?(this._events=u(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var o=e?[e._listenId]:n.keys(i),s=0;s<o.length;s++){var a=i[o[s]];if(!a)break;a.obj.off(t,r,this),a.interop&&a.off(t,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(e,t,r,i){if(e){var o,s=i.context,a=i.listeners,c=0;if(t||s||r){for(o=t?[t]:n.keys(e);c<o.length;c++){var u=e[t=o[c]];if(!u)break;for(var l=[],d=0;d<u.length;d++){var f=u[d];if(r&&r!==f.callback&&r!==f.callback._callback||s&&s!==f.context)l.push(f);else{var h=f.listening;h&&h.off(t,r)}}l.length?e[t]=l:delete e[t]}return e}for(o=n.keys(a);c<o.length;c++)a[o[c]].cleanup()}};a.once=function(e,t,n){var r=u(h,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(r,t,n)},a.listenToOnce=function(e,t,n){var r=u(h,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,r)};var h=function(e,t,r,i){if(r){var o=e[t]=n.once(function(){i(t,o),r.apply(this,arguments)});o._callback=r}return e};a.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return u(p,this._events,e,void 0,n),this};var p=function(e,t,n,r){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&m(i,r),o&&m(o,[t].concat(r))}return e},m=function(e,t){var n,r=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}},g=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(e,t){var n;this.interop?(this._events=u(f,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(t,a);var v=t.Model=function(e,t){var r=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var o=r.unset,s=r.silent,a=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var u=this.attributes,l=this.changed,d=this._previousAttributes;for(var f in i)t=i[f],n.isEqual(u[f],t)||a.push(f),n.isEqual(d[f],t)?delete l[f]:l[f]=t,o?delete u[f]:u[f]=t;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=r);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,u[a[h]],r)}if(c)return this;if(!s)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in e){var s=e[o];n.isEqual(r[o],s)||(i[o]=s,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},V(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var s=this,a=r.success,c=this.attributes;r.success=function(e){s.attributes=c;var t=r.parse?s.parse(e,r):e;if(o&&(t=n.extend({},i,t)),t&&!s.set(t,r))return!1;a&&a.call(r.context,s,e,r),s.trigger("sync",s,e,r)},V(this,r),i&&o&&(this.attributes=n.extend({},c,i));var u=this.isNew()?"create":r.patch?"patch":"update";"patch"!==u||r.attrs||(r.attrs=i);var l=this.sync(u,this,r);return this.attributes=c,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(V(this,e),s=this.sync("delete",this,e)),i||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||z();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}});var y=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,remove:!1},k=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var r,i=Array(e.length-n),o=t.length;for(r=0;r<i.length;r++)i[r]=e[r+n];for(r=0;r<o;r++)e[r+n]=t[r];for(r=0;r<i.length;r++)e[r+o+n]=i[r]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,w))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},b,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var o,s,a=[],c=[],u=[],l=[],d={},f=t.add,h=t.merge,p=t.remove,m=!1,g=this.comparator&&null==i&&!1!==t.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<e.length;s++){o=e[s];var y=this.get(o);if(y){if(h&&o!==y){var w=this._isModel(o)?o.attributes:o;t.parse&&(w=y.parse(w,t)),y.set(w,t),u.push(y),g&&!m&&(m=y.hasChanged(v))}d[y.cid]||(d[y.cid]=!0,a.push(y)),e[s]=y}else f&&(o=e[s]=this._prepareModel(o,t))&&(c.push(o),this._addReference(o,t),d[o.cid]=!0,a.push(o))}if(p){for(s=0;s<this.length;s++)d[(o=this.models[s]).cid]||l.push(o);l.length&&this._removeModels(l,t)}var _=!1,x=!g&&f&&p;if(a.length&&x?(_=this.length!==a.length||n.some(this.models,function(e,t){return e!==a[t]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):c.length&&(g&&(m=!0),k(this.models,c,null==i?this.length:i),this.length=this.models.length),m&&this.sort({silent:!0}),!t.silent){for(s=0;s<c.length;s++)null!=i&&(t.index=i+s),(o=c[s]).trigger("add",o,this,t);(m||_)&&this.trigger("sort",this,t),(c.length||l.length||u.length)&&(t.changes={added:c,removed:l,merged:u},this.trigger("update",this,t))}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){r&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new x(this,C)},keys:function(){return new x(this,T)},entries:function(){return new x(this,O)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var s=this.modelId(i.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=o,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var _="function"==typeof Symbol&&Symbol.iterator;_&&(y.prototype[_]=y.prototype.values);var x=function(e,t){this._collection=e,this._kind=t,this._index=0},C=1,T=2,O=3;_&&(x.prototype[_]=function(){return this}),x.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===C)e=t;else{var n=this._collection.modelId(t.attributes);e=this._kind===T?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var j=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];n.extend(j.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(E);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var A=function(e,t,r,i){n.each(r,function(n,r){t[r]&&(e.prototype[r]=function(e,t,n,r){switch(t){case 1:return function(){return e[n](this[r])};case 2:return function(t){return e[n](this[r],t)};case 3:return function(t,i){return e[n](this[r],M(t,this),i)};case 4:return function(t,i,o){return e[n](this[r],M(t,this),i,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),e[n].apply(e,t)}}}(t,n,r,i))})},M=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?R(e):n.isString(e)?function(t){return t.get(e)}:e},R=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(e){var t=e[0],r=e[1],i=e[2];t.mixin=function(e){var r=n.reduce(n.functions(e),function(e,t){return e[t]=0,e},{});A(t,e,r,i)},A(t,n,r,i)}),t.sync=function(e,r,i){var o=P[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||z()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1);var c=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,c&&c.call(i.context,e,t,n)};var u=i.xhr=t.ajax(n.extend(s,i));return r.trigger("request",r,u,i),u};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var N=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,U=/\*\w+/g,$=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(N.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);!1!==o.execute(i,s,r)&&(o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),t.history.trigger("route",o,r,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace($,"\\$&").replace(I,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(U,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var B=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,W=/#.*$/;B.started=!1,n.extend(B.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(F,"")},start:function(e){if(B.started)throw new Error("Backbone.history has already been started");if(B.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),B.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!B.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(W,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new B;v.extend=y.extend=N.extend=j.extend=B.extend=function(e,t){var r,i=this;return r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t),r.prototype=n.create(i.prototype,e),r.prototype.constructor=r,r.__super__=i.prototype,r};var z=function(){throw new Error('A "url" property or function must be specified')},V=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}),function(e){var t,n=e.R,r=!1,i={init:function(e){e=e||void 0!==typeof navigator?navigator.language:"en-GB",t.locales={},t.navLang=e,r=!0},slice:function(e){return Array.prototype.slice.call(e)},AinOf:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},realTypeOf:function(e){return Object.prototype.toString.call(e).match(/\w+/g)[1].toLowerCase()},render:function(e,n){return t.locales&&t.locales.hasOwnProperty(t.lang)&&t.locales[t.lang].hasOwnProperty(e)&&(e=t.locales[t.lang][e]),n&&0!==n.length?(n=i.parseVariables(n),i.format(e,n)):e},parseVariables:function(e,t){var n,r;switch(t||(t={i:[],s:[],named:{}}),i.realTypeOf(e)){case"number":t.i.push(e);break;case"string":t.s.push(e);break;case"date":t.i.push(e.toString());break;case"object":for(n in e)e.hasOwnProperty(n)&&("i"===n||"s"===n?i.parseVariables(e[n],t):t.named[n]=e[n]);break;case"array":for(n=0,r=e.length;n<r;++n)i.parseVariables(e[n],t)}return t},format:function(e,t){var n,r,i,o,s,a,c={i:"%i",s:"%s"};for(s in c){if(c.hasOwnProperty(s))for(i=(e.match(new RegExp(c[s],"g"))||[]).length,n=0;n<i;++n)void 0!==(r=t[s].hasOwnProperty(n)?t[s][n]:r)&&!1!==r&&(o=e.indexOf(c[s]))>=0&&(e=e.substr(0,o)+r+e.substr(o+2));r=!1}for(n in t.named)t.named.hasOwnProperty(n)&&(a=new RegExp("%\\("+n+"\\)","g"),e=e.replace(a,t.named[n]));return e}};(t=function(e,t){if(r||i.init(),arguments.length>1){var n=i.slice(arguments);return n.shift(),i.render(e,n)}return i.render(e,[t])}).registerLocale=function(e,n){return r||i.init(),t.locales[e]=n,t.setLocale(t.navlang),t},t.localeOrder=function(){return t.preferredLocales=i.slice(arguments),t.setLocale(t.lang)},t.setLocale=function(e,n){if(r||i.init(),n)return t.lang=e,t;var o,s=t.preferredLocales;if(!s)for(o in s=[],t.locales)t.locales.hasOwnProperty(o)&&s.push(o);return(o=i.AinOf(s,e))>0?(t.lang=s[o],t):(t.lang=s[0]||e,t)},t.noConflict=function(){return e.R=n,t},e.R=t}("undefined"!=typeof module&&module.exports?module.exports:this);var i18n={init:function(){R.registerLocale("en-US",{}),R.registerLocale("hu",{"Next unread":"Kv. olvasatlan",Edit:"Szerkeszts","All read":"Mindet olvasott","Leave conversation":"Kilps","{{ usercount }} participants":"{{ usercount }} rsztvev","Press Return to send, Shift-Return to break line.":"Nyomj Entert a mentshez, Shift-Entert a sortrshez.","Save message":"zenet mentse","Earlier messages":"Rgebbi zenetek","Add message":"j zenet","new messages":"j zenet","Reply to {{ user.name }}'s message":"Vlasz {{ user.name }} zenetre",Cancel:"Mgse",Close:"Bezrs","You have no conversations.":"Nincs aktv beszlgetsed","Add conversation":"j beszlgets","Add conversation +":"j beszlgets +",Title:"Beszlgets cme",Participants:"Rsztvevk",Create:"Ltrehozs","Sign out":"Kijelentkezs","Edit conversation":"Beszlgets szerkesztse",Save:"Ments","Searching...":"Keress...","User not found.":"Nincs ilyen felhasznlnk.","Enter username.":"rj be egy felhasznlnevet.","Do you want to leave conversation {{ title }}?\n\nIf you want to come back later, participants can invite you":"Biztosan kilpsz a kvetkez beszlgetsbl: {{ title }}?\n\nHa ksbb vissza szeretnl lpni, a beszlgets rsztvevi jra meghvhatnak.","Get invite code":"Meghv ignyls","Invite URL":"Meghv URL","Edit profile":"Profil",Name:"Nv",Avatar:"Avatr",Notifications:"rtestsek","Not supported":"Nem tmogatott",Enabled:"Bekapcsolva",Disabled:"Kikapcsolva",Test:"Teszt",Disconnected:"Megszakadt a kapcsolat","You're disconnected":"Megszakadt a kapcsolat","Retrying in:":"jracsatlakozs:",Reconnect:"jracsatlakozs most","{{ participantName }} mentioned you in {{ waveName }}!":"{{ participantName }} emlegetette a neved itt: {{ waveName }}!"}),R.setLocale(navigator.language||navigator.browserLanguage),i18n.translateTemplates(),i18n.applyR($("body"))},applyR:function(e){$(".R",e).each(function(){var e=$(this);e.prop("placeholder")&&e.prop("placeholder",R(e.prop("placeholder"))),e.html(R(e.html())).removeClass("R")})},translateTemplates:function(){var e,t,n,r,i=document.getElementsByTagName("script");for(e=0,t=i.length;e<t;e++)(n=i[e])&&n.innerHTML&&n.id&&("text/html"===n.type||"text/x-icanhaz"===n.type)&&(r=$(n.innerHTML),i18n.applyR(r),n.innerHTML=$("<div>").append(r).html())},__:function(e){return R(e)}};i18n.init();var __=i18n.__;function wordwrap(e,t,n,r){var i,o,s;if(t=arguments.length>=2?+t:75,n=arguments.length>=3?""+n:"\n",r=arguments.length>=4&&!!r,e+="",t<1)return e;var a,c=/^\S*/,u=/\S*(\s)?$/,l=e.split(/\r\n|\n|\r/),d=l.length;for(i=0;i<d;l[i++]+=s)for(s=l[i],l[i]="";s.length>t;){var f=s.slice(0,t+1),h=0,p=0;if((a=f.match(u))[1])o=t,h=1;else if((o=f.length-a[0].length)&&(p=1),!o&&r&&t&&(o=t),!o){var m=(s.slice(t).match(c)||[""])[0];o=f.length+m.length}l[i]+=s.slice(0,o-p),s=s.slice(o+h),l[i]+=s.length?n:""}return l.join("\n")}function nl2br(e,t){return null==e?"":(e+"").replace(/(\r\n|\n\r|\r|\n)/g,(t||void 0===t?"<br />":"<br>")+"$1")}function strip_tags(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}!function(e){var t={method:"GET",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,contentType:"json",prePopulate:null,processPrePopulate:!1,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:!0,theme:null,zindex:999,resultsLimit:null,enableHTML:!1,resultsFormatter:function(e){var t=e[this.propertyToSearch];return"<li>"+(this.enableHTML?t:g(t))+"</li>"},tokenFormatter:function(e){var t=e[this.propertyToSearch];return"<li><p>"+(this.enableHTML?t:g(t))+"</p></li>"},tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",allowFreeTagging:!1,onResult:null,onCachedResult:null,onAdd:null,onFreeTaggingAdd:null,onDelete:null,onReady:null,idPrefix:"token-input-",disabled:!1},n={tokenList:"token-input-list",token:"token-input-token",tokenReadOnly:"token-input-token-readonly",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token",focused:"token-input-focused",disabled:"token-input-disabled"},r={BEFORE:0,AFTER:1,END:2},i=8,o=9,s=13,a=27,c=37,u=38,l=39,d=40,f=108,h=188,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},m=/[&<>"'\/]/g;function g(e){return(t=e,String(null==t?"":t)).replace(m,function(e){return p[e]});var t}var v={init:function(n,r){var i=e.extend({},t,r||{});return this.each(function(){e(this).data("settings",i),e(this).data("tokenInputObject",new e.TokenList(this,n,i))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(e){return this.data("tokenInputObject").add(e),this},remove:function(e){return this.data("tokenInputObject").remove(e),this},get:function(){return this.data("tokenInputObject").getTokens()},toggleDisabled:function(e){return this.data("tokenInputObject").toggleDisabled(e),this},setOptions:function(t){return e(this).data("settings",e.extend({},e(this).data("settings"),t||{})),this}};e.fn.tokenInput=function(e){return v[e]?v[e].apply(this,Array.prototype.slice.call(arguments,1)):v.init.apply(this,arguments)},e.TokenList=function(t,p,m){if("string"===e.type(p)||"function"===e.type(p)){e(t).data("settings").url=p;var v=G();void 0===e(t).data("settings").crossDomain&&"string"==typeof v&&(-1===v.indexOf("://")?e(t).data("settings").crossDomain=!1:e(t).data("settings").crossDomain=location.href.split(/\/+/g)[1]!==v.split(/\/+/g)[1])}else"object"==typeof p&&(e(t).data("settings").local_data=p);e(t).data("settings").classes?e(t).data("settings").classes=e.extend({},n,e(t).data("settings").classes):e(t).data("settings").theme?(e(t).data("settings").classes={},e.each(n,function(n,r){e(t).data("settings").classes[n]=r+"-"+e(t).data("settings").theme})):e(t).data("settings").classes=n;var y,b,w=[],k=0,_=new e.TokenList.Cache,x=e('<input type="text"  autocomplete="off">').css({outline:"none"}).attr("id",e(t).data("settings").idPrefix+t.id).focus(function(){if(e(t).data("settings").disabled)return!1;null!==e(t).data("settings").tokenLimit&&e(t).data("settings").tokenLimit===k||e(t).data("settings").hintText&&(A.html("<p>"+P(e(t).data("settings").hintText)+"</p>"),V()),E.addClass(e(t).data("settings").classes.focused)}).blur(function(){z(),e(this).val(""),E.removeClass(e(t).data("settings").classes.focused),e(t).data("settings").allowFreeTagging?L():e(this).val(""),E.removeClass(e(t).data("settings").classes.focused)}).bind("keyup keydown blur update",function(){if(b===(b=x.val()))return;M.html(g(b)),x.width(M.width()+30)}).keydown(function(n){var p,m;switch(n.keyCode){case c:case l:case u:case d:if(e(this).val()){var g=null;(g=n.keyCode===d||n.keyCode===l?e(j).next():e(j).prev()).length&&J(g)}else p=S.prev(),m=S.next(),p.length&&p.get(0)===T||m.length&&m.get(0)===T?n.keyCode===c||n.keyCode===u?F(e(T),r.BEFORE):F(e(T),r.AFTER):n.keyCode!==c&&n.keyCode!==u||!p.length?n.keyCode!==l&&n.keyCode!==d||!m.length||B(e(m.get(0))):B(e(p.get(0)));return!1;case i:if(p=S.prev(),!e(this).val().length)return T?(D(e(T)),C.change()):p.length&&B(e(p.get(0))),!1;1===e(this).val().length?z():setTimeout(function(){X()},5);break;case o:case s:case f:case h:return j?($(e(j).data("tokeninput")),C.change()):(e(t).data("settings").allowFreeTagging?L():e(this).val(""),n.stopPropagation(),n.preventDefault()),!1;case a:return z(),!0;default:String.fromCharCode(n.which)&&setTimeout(function(){X()},5)}}),C=e(t).hide().val("").focus(function(){Q(x)}).blur(function(){x.blur()}),T=null,O=0,j=null,E=e("<ul />").addClass(e(t).data("settings").classes.tokenList).click(function(t){var n=e(t.target).closest("li");n&&n.get(0)&&e.data(n.get(0),"tokeninput")?function(t){var n=T;T&&F(e(T),r.END);n===t.get(0)?F(t,r.END):B(t)}(n):(T&&F(e(T),r.END),Q(x))}).mouseover(function(n){var r=e(n.target).closest("li");r&&T!==this&&r.addClass(e(t).data("settings").classes.highlightedToken)}).mouseout(function(n){var r=e(n.target).closest("li");r&&T!==this&&r.removeClass(e(t).data("settings").classes.highlightedToken)}).insertBefore(C),S=e("<li />").addClass(e(t).data("settings").classes.inputToken).appendTo(E).append(x),A=e("<div>").addClass(e(t).data("settings").classes.dropdown).appendTo("body").hide(),M=e("<tester/>").insertAfter(x).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:x.css("fontSize"),fontFamily:x.css("fontFamily"),fontWeight:x.css("fontWeight"),letterSpacing:x.css("letterSpacing"),whiteSpace:"nowrap"});C.val("");var R=e(t).data("settings").prePopulate||C.data("pre");function P(n){return e(t).data("settings").enableHTML?n:g(n)}function N(n){e(t).data("settings").disabled="boolean"==typeof n?n:!e(t).data("settings").disabled,x.attr("disabled",e(t).data("settings").disabled),E.toggleClass(e(t).data("settings").classes.disabled,e(t).data("settings").disabled),T&&F(e(T),r.END),C.attr("disabled",e(t).data("settings").disabled)}function I(){if(null!==e(t).data("settings").tokenLimit&&k>=e(t).data("settings").tokenLimit)return x.hide(),void z()}function L(){var n=e.trim(x.val()).split(e(t).data("settings").tokenDelimiter);e.each(n,function(n,r){if(r){e.isFunction(e(t).data("settings").onFreeTaggingAdd)&&(r=e(t).data("settings").onFreeTaggingAdd.call(C,r));var i={};i[e(t).data("settings").tokenValue]=i[e(t).data("settings").propertyToSearch]=r,$(i)}})}function U(n){var r=e(e(t).data("settings").tokenFormatter(n)),i=!0===n.readonly;i&&r.addClass(e(t).data("settings").classes.tokenReadOnly),r.addClass(e(t).data("settings").classes.token).insertBefore(S),i||e("<span>"+e(t).data("settings").deleteText+"</span>").addClass(e(t).data("settings").classes.tokenDelete).appendTo(r).click(function(){if(!e(t).data("settings").disabled)return D(e(this).parent()),C.change(),!1});var o=n;return e.data(r.get(0),"tokeninput",n),w=w.slice(0,O).concat([o]).concat(w.slice(O)),O++,W(w,C),k+=1,null!==e(t).data("settings").tokenLimit&&k>=e(t).data("settings").tokenLimit&&(x.hide(),z()),r}function $(n){var r=e(t).data("settings").onAdd;if(k>0&&e(t).data("settings").preventDuplicates){var i=null;if(E.children().each(function(){var t=e(this),r=e.data(t.get(0),"tokeninput");if(r&&r.id===n.id)return i=t,!1}),i)return B(i),S.insertAfter(i),void Q(x)}(null==e(t).data("settings").tokenLimit||k<e(t).data("settings").tokenLimit)&&(U(n),I()),x.val(""),z(),e.isFunction(r)&&r.call(C,n)}function B(n){e(t).data("settings").disabled||(n.addClass(e(t).data("settings").classes.selectedToken),T=n.get(0),x.val(""),z())}function F(n,i){n.removeClass(e(t).data("settings").classes.selectedToken),T=null,i===r.BEFORE?(S.insertBefore(n),O--):i===r.AFTER?(S.insertAfter(n),O++):(S.appendTo(E),O=k),Q(x)}function D(n){var r=e.data(n.get(0),"tokeninput"),i=e(t).data("settings").onDelete,o=n.prevAll().length;o>O&&o--,n.remove(),T=null,Q(x),w=w.slice(0,o).concat(w.slice(o+1)),o<O&&O--,W(w,C),k-=1,null!==e(t).data("settings").tokenLimit&&(x.show().val(""),Q(x)),e.isFunction(i)&&i.call(C,r)}function W(n,r){var i=e.map(n,function(n){return"function"==typeof e(t).data("settings").tokenValue?e(t).data("settings").tokenValue.call(this,n):n[e(t).data("settings").tokenValue]});r.val(i.join(e(t).data("settings").tokenDelimiter))}function z(){A.hide().empty(),j=null}function V(){A.css({position:"absolute",top:e(E).offset().top+e(E).outerHeight(),left:e(E).offset().left,width:e(E).width(),"z-index":e(t).data("settings").zindex}).show()}e(t).data("settings").processPrePopulate&&e.isFunction(e(t).data("settings").onResult)&&(R=e(t).data("settings").onResult.call(C,R)),R&&R.length&&e.each(R,function(e,t){U(t),I()}),e(t).data("settings").disabled&&N(!0),e.isFunction(e(t).data("settings").onReady)&&e(t).data("settings").onReady.call(),this.clear=function(){E.children("li").each(function(){0===e(this).children("input").length&&D(e(this))})},this.add=function(e){$(e)},this.remove=function(t){E.children("li").each(function(){if(0===e(this).children("input").length){var n=e(this).data("tokeninput"),r=!0;for(var i in t)if(t[i]!==n[i]){r=!1;break}r&&D(e(this))}})},this.getTokens=function(){return w},this.toggleDisabled=function(e){N(e)};var q=new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g");function H(e){return e.replace(q,"\\$&")}function K(e,t,n){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+H(t)+")(?![^<>]*>)(?![^&;]+;)","g"),function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+H(t)+")(?![^<>]*>)(?![^&;]+;)","gi"),function(e,t){return"<b>"+P(t)+"</b>"})}(t,n))}function Y(n,r){if(r&&r.length){A.empty();var i=e("<ul>").appendTo(A).mouseover(function(t){J(e(t.target).closest("li"))}).mousedown(function(t){return $(e(t.target).closest("li").data("tokeninput")),C.change(),!1}).hide();e(t).data("settings").resultsLimit&&r.length>e(t).data("settings").resultsLimit&&(r=r.slice(0,e(t).data("settings").resultsLimit)),e.each(r,function(r,o){var s=e(t).data("settings").resultsFormatter(o);s=K(s,o[e(t).data("settings").propertyToSearch],n),s=e(s).appendTo(i),r%2?s.addClass(e(t).data("settings").classes.dropdownItem):s.addClass(e(t).data("settings").classes.dropdownItem2),0===r&&J(s),e.data(s.get(0),"tokeninput",o)}),V(),e(t).data("settings").animateDropdown?i.slideDown("fast"):i.show()}else e(t).data("settings").noResultsText&&(A.html("<p>"+P(e(t).data("settings").noResultsText)+"</p>"),V())}function J(n){n&&(j&&function(n){n.removeClass(e(t).data("settings").classes.selectedDropdownItem),j=null}(e(j)),n.addClass(e(t).data("settings").classes.selectedDropdownItem),j=n.get(0))}function X(){var n=x.val();n&&n.length&&(T&&F(e(T),r.AFTER),n.length>=e(t).data("settings").minChars?(e(t).data("settings").searchingText&&(A.html("<p>"+P(e(t).data("settings").searchingText)+"</p>"),V()),clearTimeout(y),y=setTimeout(function(){!function(n){var r=n+G(),i=_.get(r);if(i)e.isFunction(e(t).data("settings").onCachedResult)&&(i=e(t).data("settings").onCachedResult.call(C,i)),Y(n,i);else if(e(t).data("settings").url){var o=G(),s={data:{}};if(o.indexOf("?")>-1){var a=o.split("?");s.url=a[0];var c=a[1].split("&");e.each(c,function(e,t){var n=t.split("=");s.data[n[0]]=n[1]})}else s.url=o;s.data[e(t).data("settings").queryParam]=n,s.type=e(t).data("settings").method,s.dataType=e(t).data("settings").contentType,e(t).data("settings").crossDomain&&(s.dataType="jsonp"),s.success=function(i){_.add(r,e(t).data("settings").jsonContainer?i[e(t).data("settings").jsonContainer]:i),e.isFunction(e(t).data("settings").onResult)&&(i=e(t).data("settings").onResult.call(C,i)),x.val()===n&&Y(n,e(t).data("settings").jsonContainer?i[e(t).data("settings").jsonContainer]:i)},e.ajax(s)}else if(e(t).data("settings").local_data){var u=e.grep(e(t).data("settings").local_data,function(r){return r[e(t).data("settings").propertyToSearch].toLowerCase().indexOf(n.toLowerCase())>-1});_.add(r,u),e.isFunction(e(t).data("settings").onResult)&&(u=e(t).data("settings").onResult.call(C,u)),Y(n,u)}}(n)},e(t).data("settings").searchDelay)):z())}function G(){var n=e(t).data("settings").url;return"function"==typeof e(t).data("settings").url&&(n=e(t).data("settings").url.call(e(t).data("settings"))),n}function Q(e){setTimeout(function(){e.focus()},50)}},e.TokenList.Cache=function(t){var n=e.extend({max_size:500},t),r={},i=0;this.add=function(e,t){i>n.max_size&&(r={},i=0),r[e]||(i+=1),r[e]=t},this.get=function(e){return r[e]}}}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.swal=t():e.swal=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="swal-button";t.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:r,CONFIRM_BUTTON:r+"--confirm",CANCEL_BUTTON:r+"--cancel",DANGER_BUTTON:r+"--danger",BUTTON_LOADING:r+"--loading",BUTTON_LOADER:r+"__loader"},t.default=t.CLASS_NAMES},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNode=function(e){var t="."+e;return document.querySelector(t)},t.stringToNode=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.insertAfter=function(e,t){var n=t.nextSibling;t.parentNode.insertBefore(e,n)},t.removeNode=function(e){e.parentElement.removeChild(e)},t.throwErr=function(e){throw"SweetAlert: "+(e=e.replace(/ +(?= )/g,"")).trim()},t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.ordinalSuffixOf=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(25));var i=n(26);t.overlayMarkup=i.default,r(n(27)),r(n(28)),r(n(29));var o=n(0),s=o.default.MODAL_TITLE,a=o.default.MODAL_TEXT,c=o.default.ICON,u=o.default.FOOTER;t.iconMarkup='\n  <div class="'+c+'"></div>',t.titleMarkup='\n  <div class="'+s+'"></div>\n',t.textMarkup='\n  <div class="'+a+'"></div>',t.footerMarkup='\n  <div class="'+u+'"></div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.CONFIRM_KEY="confirm",t.CANCEL_KEY="cancel";var i={visible:!0,text:null,value:null,className:"",closeModal:!0},o=Object.assign({},i,{visible:!1,text:"Cancel",value:null}),s=Object.assign({},i,{text:"OK",value:!0});t.defaultButtonList={cancel:o,confirm:s};var a=function(e){switch(e){case t.CONFIRM_KEY:return s;case t.CANCEL_KEY:return o;default:var n=e.charAt(0).toUpperCase()+e.slice(1);return Object.assign({},i,{text:n,value:e})}},c=function(e,t){var n=a(e);return!0===t?Object.assign({},n,{visible:!0}):"string"==typeof t?Object.assign({},n,{visible:!0,text:t}):r.isPlainObject(t)?Object.assign({visible:!0},n,t):Object.assign({},n,{visible:!1})},u=function(e){var n={};switch(e.length){case 1:n[t.CANCEL_KEY]=Object.assign({},o,{visible:!1});break;case 2:n[t.CANCEL_KEY]=c(t.CANCEL_KEY,e[0]),n[t.CONFIRM_KEY]=c(t.CONFIRM_KEY,e[1]);break;default:r.throwErr("Invalid number of 'buttons' in array ("+e.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};t.getButtonListOpts=function(e){var n=t.defaultButtonList;return"string"==typeof e?n[t.CONFIRM_KEY]=c(t.CONFIRM_KEY,e):Array.isArray(e)?n=u(e):r.isPlainObject(e)?n=function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],s=e[i],a=c(i,s);t[i]=a}return t.cancel||(t.cancel=o),t}(e):!0===e?n=u([!0,!0]):!1===e?n=u([!1,!1]):void 0===e&&(n=t.defaultButtonList),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(0),s=o.default.MODAL,a=o.default.OVERLAY,c=n(30),u=n(31),l=n(32),d=n(33);t.injectElIntoModal=function(e){var t=r.getNode(s),n=r.stringToNode(e);return t.appendChild(n),n};var f=function(e,t){!function(e){e.className=s,e.textContent=""}(e);var n=t.className;n&&e.classList.add(n)};t.initModalContent=function(e){var t=r.getNode(s);f(t,e),c.default(e.icon),u.initTitle(e.title),u.initText(e.text),d.default(e.content),l.default(e.buttons,e.dangerMode)};t.default=function(){var e=r.getNode(a),t=r.stringToNode(i.modalMarkup);e.appendChild(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i={isOpen:!1,promise:null,actions:{},timer:null},o=Object.assign({},i);t.resetState=function(){o=Object.assign({},i)},t.setActionValue=function(e){if("string"==typeof e)return s(r.CONFIRM_KEY,e);for(var t in e)s(t,e[t])};var s=function(e,t){o.actions[e]||(o.actions[e]={}),Object.assign(o.actions[e],{value:t})};t.setActionOptionsFor=function(e,t){var n=(void 0===t?{}:t).closeModal,r=void 0===n||n;Object.assign(o.actions[e],{closeModal:r})},t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(0),s=o.default.OVERLAY,a=o.default.SHOW_MODAL,c=o.default.BUTTON,u=o.default.BUTTON_LOADING,l=n(5);t.openModal=function(){r.getNode(s).classList.add(a),l.default.isOpen=!0};t.onAction=function(e){void 0===e&&(e=i.CANCEL_KEY);var t=l.default.actions[e],n=t.value;if(!1===t.closeModal){var o=c+"--"+e;r.getNode(o).classList.add(u)}else r.getNode(s).classList.remove(a),l.default.isOpen=!1;l.default.promise.resolve(n)},t.getState=function(){var e=Object.assign({},l.default);return delete e.promise,delete e.timer,e},t.stopLoading=function(){for(var e=document.querySelectorAll("."+c),t=0;t<e.length;t++)e[t].classList.remove(u)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){e.exports=t.sweetAlert=n(9)}).call(t,n(7))},function(e,t,n){(function(t){e.exports=t.swal=n(10)}).call(t,n(7))},function(e,t,n){"undefined"!=typeof window&&n(11),n(16);var r=n(23).default;e.exports=r},function(e,t,n){var r=n(12);"string"==typeof r&&(r=[[e.i,r,""]]);var i={insertAt:"top",transform:void 0};n(14)(r,i),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(13)(void 0)).push([e.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([i]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=n(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=f[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],t))}else{var s=[];for(o=0;o<r.parts.length;o++)s.push(l(r.parts[o],t));f[r.id]={id:r.id,refs:1,parts:s}}}}function i(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],s=t.base?o[0]+t.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function o(e,t){var n=p(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function l(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=g++;n=m||(m=a(t)),r=d.bind(null,n,u,!1),i=d.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=y(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),i=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=function(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){s(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function d(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}var f={},h=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),p=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),m=null,g=0,v=[],y=n(15);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=h()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=i(e,t);return r(n,t),function(e){for(var o=[],s=0;s<n.length;s++){var a=n[s];(c=f[a.id]).refs--,o.push(c)}e&&r(i(e,t),t);for(s=0;s<o.length;s++){var c;if(0===(c=o[s]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete f[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){var r=n(17);"undefined"==typeof window||window.Promise||(window.Promise=r),n(21),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|t,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[o],e))return!0;o++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(e,t,n){(function(t){!function(n){function r(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function o(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void a(t.promise,e)}s(t.promise,r)}else(1===e._state?s:a)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){a(e,t)}}function a(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){if(n)return;n=!0,a(t,e)}}var l=setTimeout;i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(e){r(o,e)},n)}t[o]=s,0==--i&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var i=t.length,o=0;o<t.length;o++)r(o,t[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){l(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(t,n(18).setImmediate)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(19),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){delete a[e]}function i(e){if(c)setTimeout(i,0,e);else{var t=a[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{r(e),c=!1}}}}if(!e.setImmediate){var o,s=1,a={},c=!1,u=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick(function(){i(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),o=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},o=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;o=function(t){var n=u.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():o=function(e){setTimeout(i,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return a[s]=r,o(s),s++},l.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(7),n(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function o(){p&&f&&(p=!1,f.length?h=f.concat(h):m=-1,h.length&&s())}function s(){if(!p){var e=i(o);p=!0;for(var t=h.length;t;){for(f=h,h=[];++m<t;)f&&f[m].run();m=-1,t=h.length}f=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var u,l,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var f,h=[],p=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new a(e,t)),1!==h.length||p||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";n(22).polyfill()},function(e,t,n){"use strict";function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(6),o=n(5),s=n(36),a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof window){var n=s.getOpts.apply(void 0,e);return new Promise(function(e,t){o.default.promise={resolve:e,reject:t},r.default(n),setTimeout(function(){i.openModal()})})}};a.close=i.onAction,a.getState=i.getState,a.setActionValue=o.setActionValue,a.stopLoading=i.stopLoading,a.setDefaults=s.setDefaults,t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0).default.MODAL,o=n(4),s=n(34),a=n(35),c=n(1);t.init=function(e){r.getNode(i)||(document.body||c.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),s.default(),o.default()),o.initModalContent(e),a.default(e)},t.default=t.init},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).default.MODAL;t.modalMarkup='\n  <div class="'+r+'" role="dialog" aria-modal="true"></div>',t.default=t.modalMarkup},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).default.ICON;t.errorIconMarkup=function(){var e=r+"--error",t=e+"__line";return'\n    <div class="'+e+'__x-mark">\n      <span class="'+t+" "+t+'--left"></span>\n      <span class="'+t+" "+t+'--right"></span>\n    </div>\n  '},t.warningIconMarkup=function(){var e=r+"--warning";return'\n    <span class="'+e+'__body">\n      <span class="'+e+'__dot"></span>\n    </span>\n  '},t.successIconMarkup=function(){var e=r+"--success";return'\n    <span class="'+e+"__line "+e+'__line--long"></span>\n    <span class="'+e+"__line "+e+'__line--tip"></span>\n\n    <div class="'+e+'__ring"></div>\n    <div class="'+e+'__hide-corners"></div>\n  '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).default.CONTENT;t.contentMarkup='\n  <div class="'+r+'">\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.default.BUTTON_CONTAINER,o=r.default.BUTTON,s=r.default.BUTTON_LOADER;t.buttonMarkup='\n  <div class="'+i+'">\n\n    <button\n      class="'+o+'"\n    ></button>\n\n    <div class="'+s+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(2),o=n(0),s=o.default.ICON,a=o.default.ICON_CUSTOM,c=["error","warning","success","info"],u={error:i.errorIconMarkup(),warning:i.warningIconMarkup(),success:i.successIconMarkup()};t.default=function(e){if(e){var t=r.injectElIntoModal(i.iconMarkup);c.includes(e)?function(e,t){var n=s+"--"+e;t.classList.add(n);var r=u[e];r&&(t.innerHTML=r)}(e,t):function(e,t){t.classList.add(a);var n=document.createElement("img");n.src=e,t.appendChild(n)}(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(4),o=function(e){navigator.userAgent.includes("AppleWebKit")&&(e.style.display="none",e.offsetHeight,e.style.display="")};t.initTitle=function(e){if(e){var t=i.injectElIntoModal(r.titleMarkup);t.textContent=e,o(t)}},t.initText=function(e){if(e){var t=document.createDocumentFragment();e.split("\n").forEach(function(e,n,r){t.appendChild(document.createTextNode(e)),n<r.length-1&&t.appendChild(document.createElement("br"))});var n=i.injectElIntoModal(r.textMarkup);n.appendChild(t),o(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(0),s=o.default.BUTTON,a=o.default.DANGER_BUTTON,c=n(3),u=n(2),l=n(6),d=n(5),f=function(e,t,n){var i=t.text,o=t.value,f=t.className,h=t.closeModal,p=r.stringToNode(u.buttonMarkup),m=p.querySelector("."+s),g=s+"--"+e;m.classList.add(g),f&&(Array.isArray(f)?f:f.split(" ")).filter(function(e){return e.length>0}).forEach(function(e){m.classList.add(e)}),n&&e===c.CONFIRM_KEY&&m.classList.add(a),m.textContent=i;var v={};return v[e]=o,d.setActionValue(v),d.setActionOptionsFor(e,{closeModal:h}),m.addEventListener("click",function(){return l.onAction(e)}),p};t.default=function(e,t){var n=i.injectElIntoModal(u.footerMarkup);for(var r in e){var o=e[r],s=f(r,o,t);o.visible&&n.appendChild(s)}0===n.children.length&&n.remove()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(4),o=n(2),s=n(5),a=n(6),c=n(0).default.CONTENT,u=function(e){e.addEventListener("input",function(e){var t=e.target.value;s.setActionValue(t)}),e.addEventListener("keyup",function(e){if("Enter"===e.key)return a.onAction(r.CONFIRM_KEY)}),setTimeout(function(){e.focus(),s.setActionValue("")},0)};t.default=function(e){if(e){var t=i.injectElIntoModal(o.contentMarkup),n=e.element,r=e.attributes;"string"==typeof n?function(e,t,n){var r=document.createElement(t),i=c+"__"+t;for(var o in r.classList.add(i),n){var s=n[o];r[o]=s}"input"===t&&u(r),e.appendChild(r)}(t,n,r):t.appendChild(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2);t.default=function(){var e=r.stringToNode(i.overlayMarkup);document.body.appendChild(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(6),o=n(1),s=n(3),a=n(0),c=a.default.MODAL,u=a.default.BUTTON,l=a.default.OVERLAY,d=function(e){if(r.default.isOpen)switch(e.key){case"Escape":return i.onAction(s.CANCEL_KEY)}},f=function(e){if(r.default.isOpen)switch(e.key){case"Tab":return function(e){e.preventDefault(),p()}(e)}},h=function(e){if(r.default.isOpen)return"Tab"===e.key&&e.shiftKey?function(e){e.preventDefault(),m()}(e):void 0},p=function(){var e=o.getNode(u);e&&(e.tabIndex=0,e.focus())},m=function(){var e=o.getNode(c).querySelectorAll("."+u),t=e[e.length-1];t&&t.focus()},g=function(){var e=o.getNode(c).querySelectorAll("."+u);e.length&&(function(e){e[e.length-1].addEventListener("keydown",f)}(e),function(e){e[0].addEventListener("keydown",h)}(e))},v=function(e){if(o.getNode(l)===e.target)return i.onAction(s.CANCEL_KEY)};t.default=function(e){e.closeOnEsc?document.addEventListener("keyup",d):document.removeEventListener("keyup",d),e.dangerMode?p():m(),g(),function(e){var t=o.getNode(l);t.removeEventListener("click",v),e&&t.addEventListener("click",v)}(e.closeOnClickOutside),function(e){r.default.timer&&clearTimeout(r.default.timer),e&&(r.default.timer=window.setTimeout(function(){return i.onAction(s.CANCEL_KEY)},e))}(e.timer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(37),s=n(38),a={title:null,text:null,icon:null,buttons:i.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},a);t.setDefaults=function(e){c=Object.assign({},a,e)};var u=function(e){var t=e&&e.button,n=e&&e.buttons;return void 0!==t&&void 0!==n&&r.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==t?{confirm:t}:n},l=function(e){return r.ordinalSuffixOf(e+1)},d=function(e,t){r.throwErr(l(t)+" argument ('"+e+"') is invalid")},f=function(e,t){var n=e+1,i=t[n];r.isPlainObject(i)||void 0===i||r.throwErr("Expected "+l(n)+" argument ('"+i+"') to be a plain object")},h=function(e,t,n,i){var o=t instanceof Element;if("string"===typeof t){if(0===n)return{text:t};if(1===n)return{text:t,title:i[0]};if(2===n)return f(n,i),{icon:t};d(t,n)}else{if(o&&0===n)return f(n,i),{content:t};if(r.isPlainObject(t))return function(e,t){var n=e+1,i=t[n];void 0!==i&&r.throwErr("Unexpected "+l(n)+" argument ("+i+")")}(n,i),t;d(t,n)}};t.getOpts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};e.forEach(function(t,r){var i=h(0,t,r,e);Object.assign(n,i)});var r=u(n);n.buttons=i.getButtonListOpts(r),delete n.button,n.content=o.getContentOpts(n.content);var l=Object.assign({},a,c,n);return Object.keys(l).forEach(function(e){s.DEPRECATED_OPTS[e]&&s.logDeprecation(e)}),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i={element:"input",attributes:{placeholder:""}};t.getContentOpts=function(e){return r.isPlainObject(e)?Object.assign({},e):e instanceof Element?{element:e}:"input"===e?i:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logDeprecation=function(e){var n=t.DEPRECATED_OPTS[e],r=n.onlyRename,i=n.replacement,o=n.subOption,s=n.link,a='SweetAlert warning: "'+e+'" option has been '+(r?"renamed":"deprecated")+".";i&&(a+=" Please use"+(o?' "'+o+'" in ':" ")+'"'+i+'" instead.');var c="https://sweetalert.js.org";a+=s?" More details: "+c+s:" More details: "+c+"/guides/#upgrading-from-1x",console.warn(a)},t.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])});var Message,MessageCollection,randomName=function(){var e=["Aqua","Black","Blue","Fuchsia","Gray","Green","Lime","Maroon","Navy","Olive","Orange","Purple","Red","Silver","Teal","White","Yellow"],t=["Aardvark","Albatross","Alligator","Alpaca","Ant","Anteater","Antelope","Ape","Armadillo","Donkey","Baboon","Badger","Barracuda","Bat","Bear","Beaver","Bee","Bison","Boar","Buffalo","Butterfly","Camel","Capybara","Caribou","Cassowary","Cat","Caterpillar","Chamois","Cheetah","Chicken","Chimpanzee","Chinchilla","Chough","Clam","Cobra","Cockroach","Cod","Cormorant","Coyote","Crab","Crane","Crocodile","Crow","Curlew","Deer","Dinosaur","Dog","Dogfish","Dolphin","Dotterel","Dove","Dragonfly","Duck","Dugong","Dunlin","Eagle","Echidna","Eel","Eland","Elephant","Elk","Emu","Falcon","Ferret","Finch","Fish","Flamingo","Fly","Fox","Frog","Gaur","Gazelle","Gerbil","Giraffe","Gnat","Gnu","Goat","Goose","Goldfinch","Goldfish","Gorilla","Goshawk","Grasshopper","Grouse","Guanaco","Gull","Hamster","Hare","Hawk","Hedgehog","Heron","Herring","Hippopotamus","Hornet","Horse","Hummingbird","Hyena","Ibex","Ibis","Jackal","Jaguar","Jay","Jellyfish","Kangaroo","Kingfisher","Koala","Kookabura","Kouprey","Kudu","Lapwing","Lark","Lemur","Leopard","Lion","Llama","Lobster","Locust","Loris","Louse","Lyrebird","Magpie","Mallard","Manatee","Mandrill","Mantis","Marten","Meerkat","Mink","Mole","Mongoose","Monkey","Moose","Mouse","Mosquito","Mule","Narwhal","Newt","Nightingale","Octopus","Okapi","Opossum","Oryx","Ostrich","Otter","Owl","Ox","Oyster","Panther","Parrot","Partridge","Peafowl","Pelican","Penguin","Pheasant","Pig","Pigeon","Porcupine","Porpoise","Quail","Quelea","Quetzal","Rabbit","Raccoon","Rail","Ram","Rat","Raven","Reindeer","Rhinoceros","Rook","Salamander","Salmon","Sandpiper","Sardine","Scorpion","Seahorse","Seal","Shark","Sheep","Shrew","Skunk","Snail","Snake","Sparrow","Spider","Spoonbill","Squid","Squirrel","Starling","Stingray","Stinkbug","Stork","Swallow","Swan","Tapir","Tarsier","Termite","Tiger","Toad","Trout","Turkey","Turtle","Vicuna","Viper","Vulture","Wallaby","Walrus","Wasp","Weasel","Whale","Wolf","Wolverine","Wombat","Woodcock","Woodpecker","Worm","Wren","Yak","Zebra"];return function(){return e[Math.floor(Math.random()*e.length)]+t[Math.floor(Math.random()*t.length)]}}(),User=Backbone.Model.extend({defaults:{name:"",avatar:"",email:"",status:"offline",showPictures:!1,showVideos:!1},idAttribute:"_id",localAttributes:["showPictures","showVideos","showLinkPreviews"],update:function(e){_.each(e,function(e,t){this.idAttribute!==t&&this.set(t,e)},this)},chatInPrivateWaveWithUser:function(e){if(e!==this){var t=app.model.waves.filter(function(t){return 2===t.users.length&&t.users.contains(e)&&t.users.contains(this)},this);t.length?app.navigate("wave/"+t[0].id,{trigger:!0}):Communicator.createWave(randomName()+"Room",[e.id])}},loadLocalAttributes:function(){void 0!==window.localStorage&&_.each(this.localAttributes,function(e){var t=this.id+e;this.set(e,localStorage.getItem(t)>0)},this)},saveLocalAttributes:function(){void 0!==window.localStorage&&_.each(this.localAttributes,function(e){var t=this.id+e;localStorage.setItem(t,this.get(e)?1:0)},this)}}),UserCollection=Backbone.Collection.extend({model:User,getUser:function(e){var t=this.get(e);return void 0===t&&(t=new User({_id:e,name:"[loading]"}),this.add(t),Communicator.getUser(e)),t}}),Wave=Backbone.Model.extend({defaults:{title:"",userIds:[],current:!1,archived:!0},idAttribute:"_id",initialize:function(){if(this.messages=new MessageCollection,this.users=new UserCollection,this.get("userIds")){var e=this.get("userIds");this.addUsers(e)}},addMessage:function(e){if(null!==e.get("parentId")){var t,n,r=this.messages.get(e.get("parentId"));if(!r)return this.messages.length>0&&(t=e.get("parentId"),n=this.messages.at(0).id,Communicator.getMessages(this,t,n)),!1;r.addReply(e),this.messages.add(e)}else this.messages.add(e);return Date.now()-e.get("created_at_date").getTime()<6048e5&&this.set("archived",!1),!0},addUser:function(e){this.users.add(e)},addUsers:function(e){_.each(e,function(e){var t=app.model.users.get(e);this.addUser(t)},this)},getUnreadCount:function(){return this.messages.reduce(function(e,t){return e+(t.get("unread")?1:0)},0)},getUserNames:function(){return this.users.pluck("name").join(", ")},getUserCount:function(){return this.users.length},update:function(e){this.set("title",e.title);var t,n,r=this.get("userIds");e.userIds!==r&&(n=_.difference(e.userIds,r),t=_.difference(r,e.userIds),this.users.remove(t),this.addUsers(n),this.set("userIds",e.userIds))},setCurrentMessage:function(e){this.currentMessageId=e},getNextUnreadMessage:function(){var e,t,n,r,i=0;if(this.currentMessageId){if(r=this.messages.get(this.currentMessageId),i=r.getSortableId(),e=r.getNextUnread(i,!1,[]))return e;i=r.getRootId()}for(t=this.messages.filter(function(e){return e.getSortableId()>i&&null===e.get("parentId")}),n=0;n<t.length;n++)if(e=t[n].getNextUnread(i,!0,[]))return e;if(i>0)for(t=this.messages.filter(function(e){return e.getSortableId()<i&&null===e.get("parentId")}),n=0;n<t.length;n++)if(e=t[n].getNextUnread(0,!0,[]))return e;return e||this.trigger("noMoreUnread"),e},getPreviousMessages:function(){if(this.messages.length){var e=this.messages.at(0).id;Communicator.getMessages(this,null,e)}},readAllMessages:function(){var e=!1;this.messages.each(function(t){e=t.readAllMessages()||e}),e&&(this.trigger("readAll"),Communicator.readAllMessages(this))},quit:function(){Communicator.quitUser(this.id),app.currentWaveId=null,app.model.waves.remove(this),app.model.messages.remove(app.model.messages.where({waveId:this.id}),{silent:!0}),app.showLastWave()}}),WaveCollection=Backbone.Collection.extend({model:Wave,comparator:function(e){return e.id}});Message=Backbone.Model.extend({defaults:{userId:null,waveId:null,parentId:null,message:"",unread:!0,created_at:null,created_at_date:null},idAttribute:"_id",initialize:function(){this.messages=null,this.linkPreviews=[],this.user=app.model.users.getUser(this.get("userId")),this.formatMessage(),this.set("created_at_date",new Date(this.get("created_at"))),this.isNew()||this.set("unread",this.get("unread")&&app.model.currentUser.id!==this.get("userId"))},addReply:function(e){null===this.messages&&(this.messages=new MessageCollection,this.trigger("messagesCreated")),this.messages.add(e)},read:function(){this.get("unread")&&(this.set("unread",!1),Communicator.readMessage(this))},setCurrent:function(){this.getWave().setCurrentMessage(this.id)},setScrolled:function(){this.trigger("change:scrolled")},formatMessage:function(){var e,t,n,r,i,o,s=this.get("message"),a=/((https?:\/\/|www\.)\S+)/g,c=/\.(jpg|png|gif)(\?.*)?$/gi,u=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]+).*/gim,l=/.*youtu.*/im,d="";for(t=0,n=(e=(s=strip_tags(s=(s=(s=s.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/\n/g," \n"))).split(" ")).length;t<n;t++)(r=e[t].match(a))?(i=o=r[0],o=o.length>53?o.substr(0,50)+"...":o,i="http"===i.substr(0,4)?i:"http://"+i,app.model.currentUser.get("showPictures")&&i.match(c)?d='<br><a href="'+i+'" target="_blank"><img class="message-img" src="'+i+'"></a>':app.model.currentUser.get("showVideos")&&i.match(u)&&i.match(l)?d='<br><iframe width="420" height="315" src="https://youtube.com/embed/'+(i=u.exec(i))[2]+'" frameborder="0" allowfullscreen></iframe>':(d='<a href="'+i+'" target="_blank">'+o+"</a>",app.model.currentUser.get("showLinkPreviews")&&Communicator.getLinkPreview(i,this)),e[t]=e[t].replace(r[0],d)):e[t]=wordwrap(e[t],200," ",!0);s=nl2br(s=e.join(" "),!0),this.set("messageFormatted",s)},getSortableId:function(){if(!this.sortableId)if(24===this.id.toString().length){var e=Number("0x"+this.id.substr(0,8)),t=Number("0x"+this.id.substr(18,6));this.sortableId=e+t%1e3/1e3}else this.sortableId=this.id;return this.sortableId},readAllMessages:function(){var e=this.get("unread");return this.set({unread:!1},{silent:!0}),e},getNextUnread:function(e,t,n){if(_.indexOf(n,this.getSortableId())>-1)return null;if(n.push(this.getSortableId()),this.getSortableId()>e&&this.get("unread"))return this;var r,i=this.messages?this.messages.toArray():[],o=null;for(r=0;r<i.length;r++)if(o=i[r].getNextUnread(e,!0,n))return o;return o||!this.get("parentId")||t?o:app.model.messages.get(this.get("parentId")).getNextUnread(0,!1,n)},getRootId:function(){return this.get("parentId")?app.model.messages.get(this.get("parentId")).getRootId():this.getSortableId()},getWave:function(){return app.model.waves.get(this.get("waveId"))},isCurrentUserMentioned:function(){if(this.get("unread")){var e="@"+app.model.currentUser.get("name");return this.get("message").indexOf(e)>=0}return!1},addLinkPreview:function(e){this.linkPreviews.push(e),this.trigger("linkpreview",e)}}),MessageCollection=Backbone.Collection.extend({model:Message,comparator:function(e){return e.getSortableId()}});var SurfAppModel=Backbone.Model.extend({initialize:function(){this.waves=new WaveCollection,this.users=new UserCollection,this.messages=new MessageCollection,this.currentUser=null,this.ready=!1},initCurrentUser:function(e){this.currentUser=e,this.currentUser.loadLocalAttributes(),this.trigger("initCurrentUser")},setReady:function(){this.ready=!0,this.trigger("ready")}}),UserView=Backbone.View.extend({initialize:function(){_.bindAll(this,"render","update","chatInPrivate"),this.listenTo(this.model,"change",this.update)},events:{dblclick:"chatInPrivate"},render:function(){var e=_.template($("#user_view").text());return this.setElement(e(this.model.toJSON())),this.$el.attr("src",this.model.get("avatar")),this},update:function(){return this.$el.removeClass("online offline").addClass(this.model.get("status")),this.$el.attr("title",this.model.get("name")),this.$el.attr("alt",this.model.get("name")),this.$el.attr("src")!==this.model.get("avatar")&&this.$el.attr("src",this.model.get("avatar")),this},chatInPrivate:function(){app.model.currentUser.chatInPrivateWaveWithUser(this.model)}}),WaveListView=Backbone.View.extend({initialize:function(){_.bindAll(this,"setCurrent","countMessages","updateMessages","changeUsers","updateTitle","scrollToNextUnread","removeWave"),this.listenTo(this.model,"change:current",this.setCurrent),this.listenTo(this.model,"change:title",this.updateTitle),this.listenTo(this.model,"remove",this.removeWave),this.listenTo(this.model.messages,"change:unread",this.countMessages),this.listenTo(this.model,"readAll",this.countMessages),this.listenTo(this.model.messages,"add",this.countMessages),this.listenTo(this.model.messages,"add",this.updateMessages),this.listenTo(this.model.users,"add",this.changeUsers),this.listenTo(this.model.users,"remove",this.changeUsers)},events:{click:"scrollToNextUnread"},render:function(){var e=_.extend(this.model.toJSON(),{id:this.model.id}),t=_.template($("#wave_list_view").text());return this.setElement(t(e)),this.changeUsers(),this.countMessages(),this.setCurrent(),this},setCurrent:function(){this.model.get("current")&&($(".waveitem").removeClass("open"),this.$el.addClass("open"))},countMessages:function(){var e=this.model.getUnreadCount();e>0?(this.$el.find(".piros").text("| "+e+" "+__("new messages")),this.$el.addClass("updated")):(this.$el.find(".piros").text(""),this.$el.removeClass("updated"))},updateMessages:function(e){e.get("userId")!==app.model.currentUser.id&&e.get("unread")&&this.$el.addClass("updated")},changeUsers:function(){var e=__("{{ usercount }} participants").replace("{{ usercount }}",this.model.getUserCount());this.$el.find(".usercount").text(e)},updateTitle:function(){this.$el.find("h2").text(this.model.get("title"))},scrollToNextUnread:function(e){if(app.currentWaveId===this.model.id){e.preventDefault();var t=this.model.getNextUnreadMessage();t&&t.setScrolled()}$("body.mobile #wave-list").css("left","-55%")},removeWave:function(e){e.id===this.model.id&&this.$el.remove()}}),WaveView=Backbone.View.extend({initialize:function(){_.bindAll(this,"setCurrent","addMessage","addUser","removeUser","updateTitle","showUpdateWave","scrollToNextUnread","scrollToBottom","readAllMessages","quitWave","removeWave","countOfflineUsers","readAll"),this.userViews=[],this.listenTo(this.model,"change:current",this.setCurrent),this.listenTo(this.model,"change:title",this.updateTitle),this.listenTo(this.model,"noMoreUnread",this.scrollToBottom),this.listenTo(this.model,"remove",this.removeWave),this.listenTo(this.model,"readAll",this.readAll),this.listenTo(this.model,"scrollToNextUnread",this.scrollToNextUnread),this.listenTo(this.model.messages,"add",this.addMessage),this.listenTo(this.model.users,"add",this.addUser),this.listenTo(this.model.users,"remove",this.removeUser),this.listenTo(this.model.users,"change",this.countOfflineUsers)},events:{"click a.editwave":"showUpdateWave","click a.gounread":"scrollToNextUnread","click div.wavetop":"scrollToNextUnread","click a.getprevmessages":"getPreviousMessages","click a.readall":"readAllMessages","click a.quit":"quitWave"},render:function(){var e=_.extend(this.model.toJSON(),{id:this.model.id}),t=new WaveReplyFormView({model:this.model});return this.setElement(waveTemplate(e)),this.$el.hide(),t.render().$el.appendTo(this.$el.find(".waves-container")),this.model.users.each(this.addUser),this.fragmentMode=!0,this.fragment=$(document.createDocumentFragment()),this.model.messages.each(this.addMessage,this),this.fragmentMode=!1,this.$el.find(".messages").append(this.fragment),this},setCurrent:function(){this.model.get("current")&&($(".wave").hide(),this.$el.show(),this.scrollToNextUnread())},addMessage:function(e){if(null===e.get("parentId")){var t,n=new MessageView({model:e}).render().el;this.fragmentMode?this.fragment.append(n):0===(t=this.model.messages.where({parentId:null}).indexOf(e))?this.$el.find("div.getprevmessages").after(n):this.$el.find(".messages > .message").eq(t-1).after(n)}},changeUsers:function(){var e=this.model.getUserNames();this.$el.find("span.usernames").text(e)},addUser:function(e){this.changeUsers();var t=new UserView({model:e});this.userViews[e.id]=t,this.$el.find(".heads").append(t.render().el),this.countOfflineUsers()},removeUser:function(e){this.changeUsers(),this.userViews[e.id].remove(),delete this.userViews[e.id],this.countOfflineUsers()},countOfflineUsers:function(){var e=this.$el.find(".offline-list"),t=this.model.users.where({status:"offline"}).length;t>0?(e.find(".count").text(t),e.show()):e.hide()},updateTitle:function(){this.$el.find("h2").text(this.model.get("title"))},showUpdateWave:function(){return app.view.showUpdateWave()},scrollToNextUnread:function(e){ga("send","event","WaveView","scrollToNextUnread"),e&&e.preventDefault();var t=this.model.getNextUnreadMessage();return t&&t.setScrolled(),!1},scrollToBottom:function(){var e=this.$el.find(".waves-container");e.scrollTop(e.prop("scrollHeight")).focus()},getPreviousMessages:function(e){e.preventDefault(),ga("send","event","WaveView","getPreviousMessages"),this.model.getPreviousMessages()},readAllMessages:function(e){ga("send","event","WaveView","readAllMessages"),e.preventDefault(),this.model.readAllMessages()},quitWave:function(e){ga("send","event","WaveView","quitWave"),e.preventDefault();var t=__("Do you want to leave conversation {{ title }}?\n\nIf you want to come back later, participants can invite you").replace("{{ title }}",this.model.get("title"));confirm(t)&&this.model.quit()},removeWave:function(e){e.id===this.model.id&&this.$el.remove()},readAll:function(){this.$el.find("table.unread").removeClass("unread")}}),MessageView=Backbone.View.extend({initialize:function(){this.model.messages?this.listenTo(this.model.messages,"add",this.addMessage):this.listenTo(this.model,"messagesCreated",function(){this.listenTo(this.model.messages,"add",this.addMessage),this.stopListening(this.model,"messagesCreated")}),this.listenTo(this.model,"change:unread",this.onReadMessage),this.listenTo(this.model,"change:scrolled",this.scrollTo),this.listenTo(this.model.user,"change:name",this.changeUserName),this.listenTo(this.model,"linkpreview",this.addLinkPreview);this.model.get("created_at_date");this.model.set("dateFormatted","dateFormat(date, 'mmm d HH:MM')")},inRender:!1,events:{click:"readMessage",dbltap:"replyMessage","click a.reply":"replyMessage","click a.threadend":"replyMessage"},render:function(){var e=_.extend(this.model.toJSON(),{id:this.model.id,user:this.model.user.toJSON()}),t=new UserView({model:this.model.user}),n=this;return this.setElement(messageTemplate(e)),this.model.get("unread")||this.$el.children("table").removeClass("unread"),this.$el.find(".message-header").html(t.render().el),this.$el.children("div.threadend").hide(),this.model.isCurrentUserMentioned()&&this.mention(),this.model.messages&&(this.inRender=!0,this.model.messages.each(this.addMessage,this),this.inRender=!1),this.model.linkPreviews.forEach(function(e){n.addLinkPreview(e)}),this},addMessage:function(e){var t=new MessageView({model:e});this.$el.children(".replies").append(t.render().el),(this.inRender||1===this.model.messages.length)&&0===this.$el.children("div.replyform").length&&this.$el.children("div.threadend").show()},readMessage:function(e){e.stopPropagation(),this.model.read(),this.model.setCurrent()},onReadMessage:function(){this.model.get("unread")||this.$el.children("table").removeClass("unread")},scrollTo:function(){var e=this.$el.position().top,t=this.$el.parents(".waves-container"),n=t.height();this.$el.triggerHandler("click"),(e<0||e>n)&&t.scrollTop(e+t.scrollTop()-.3*n),this.$el.children("table").focus()},replyMessage:function(e){if("TEXTAREA"!==e.target.nodeName){e.preventDefault();var t,n=this.$el.find("> div:last-child").hasClass("replyform");return this.model.getWave().trigger("hideReplyForm"),n?!1:((t=new MessageReplyFormView({model:this.model})).render(),t.show(this.$el),!1)}},changeUserName:function(){this.$el.find("span.author").eq(0).text(this.model.user.get("name")+":")},mention:function(){if("undefined"!=typeof Notification){var e,t,n=!1,r=this;if("granted"===Notification.permission?n=!0:"denied"!==Notification.permission&&Notification.requestPermission(function(e){"granted"===e&&(n=!0)}),n){t=__("{{ participantName }} mentioned you in {{ waveName }}!").replace("{{ participantName }}",this.model.user.get("name")).replace("{{ waveName }}",this.model.getWave().get("title"));try{(e=new Notification(t,{tag:"mentionNotification",icon:"/images/surf-ico.png"})).onclick=function(){r.model.setScrolled()},e.onshow=function(){setTimeout(e.close.bind(e),5e3)}}catch(e){}}}},addLinkPreview:function(e){var t=$(linkPreviewTemplate(_.extend({title:null,image:null,description:null},e)));e.image||t.find("img").remove(),this.$el.children("table").append(t)}}),WaveReplyFormView=Backbone.View.extend({initialize:function(){_.bindAll(this,"submitForm","handleKeydown")},events:{"submit form":"submitForm","keydown textarea":"handleKeydown"},render:function(){var e=_.template($("#wavereplyform_view").text());return this.setElement(e()),this},submitForm:function(e){e.preventDefault();var t=this.$el.find("textarea");return t.val().length>0&&Communicator.sendMessage(t.val(),this.getWaveId(),this.getParentId()),t.val(""),!1},handleKeydown:function(e){e.shiftKey||13!==e.keyCode?32===e.keyCode&&" "===$(e.target).val()?(e.preventDefault(),this.scrollToNextUnread()):e.shiftKey||9!==e.keyCode||(e.preventDefault(),this.mentionUser()):(e.preventDefault(),this.$el.find("form").submit()),e.stopPropagation()},scrollToNextUnread:function(){this.model.trigger("scrollToNextUnread")},getWaveId:function(){return this.model.id},getWave:function(){return app.model.waves.get(this.getWaveId())},getParentId:function(){return null},mentionUser:function(){var e,t,n,r,i=0,o=this.$el.find("textarea"),s=o[0].selectionEnd||0,a=o.val().lastIndexOf("@",s);if(a>-1&&s-a<50&&(e=o.val().substring(a+1,s).toLowerCase(),(t=this.getWave().users.filter(function(t){return 0===t.get("name").toLowerCase().indexOf(e)})).length>0)){if(1===t.length)n=t[0].get("name");else{for(n=t[0].get("name").substr(0,e.length),r=function(e){return e.get("name").substr(0,n.length)===n};_.all(t,r);)n=t[0].get("name").substr(0,n.length+1);n=n.substr(0,n.length-1)+"?",i=1}o.val(o.val().substring(0,a+1)+n+o.val().substr(s)),o[0].selectionStart=a+1+n.length-i,o[0].selectionEnd=a+1+n.length}}}),MessageReplyFormView=WaveReplyFormView.extend({events:_.extend({"click a.cancel":"handleCancel"},WaveReplyFormView.prototype.events),initialize:function(){WaveReplyFormView.prototype.initialize.apply(this,arguments),this.timeout=75,_.bindAll(this,"handleCancel","hide"),this.listenTo(this.model.getWave(),"hideReplyForm",this.hide)},render:function(){var e=_.template($("#messagereplyform_view").text());return this.setElement(e({user:this.model.user.toJSON()})),this},handleCancel:function(e){return e.preventDefault(),this.hide(),!1},scrollToNextUnread:function(){this.model.getWave().trigger("scrollToNextUnread")},getWaveId:function(){return this.model.get("waveId")},getParentId:function(){return this.model.id},show:function(e){var t=e.children("div.threadend");t.is(":visible")?(t.hide(),this.$el.height(t.height()).appendTo(e).animate({height:"100%"},this.timeout,function(){$(this).find("textarea").focus()})):this.$el.hide().appendTo(e).slideDown(this.timeout,function(){$(this).find("textarea").focus()})},hide:function(){var e,t=this;this.$el.siblings(".replies").children().length>0?(e=this.$el.siblings(".threadend"),this.$el.animate({height:e.height()},this.timeout,function(){e.show(),t.remove()})):this.$el.slideUp(this.timeout,function(){t.remove()})}}),EditWaveView=Backbone.View.extend({initialize:function(){_.bindAll(this,"show","hide","setWave","genUserArray","inviteCodeReady"),this.userArray=[],this.listenTo(this.model.users,"add",this.genUserArray),this.listenTo(this.model.users,"change",this.genUserArray)},events:{"click a.close":"hide","submit form":"editWave","click button#editwave-invite":"getInviteCode"},render:function(){var e=_.template($("#editwave_view").text());return this.setElement(e()),this.$el.hide(),this},genUserArray:function(){this.userArray=this.model.users.reduce(function(e,t){var n={id:t.id,name:t.get("name")+" ("+t.get("email")+")"};return(!this.wave||this.wave&&!this.wave.users.get(t.id))&&e.push(n),e},[],this)},initUserSuggest:function(){this.genUserArray(),this.inited||(this.$el.find("#editwave-users").tokenInput([],{theme:"facebook",preventDuplicates:!0,hintText:__("Enter username."),noResultsText:__("User not found."),searchingText:__("Searching...")}),this.inited=!0)},updateUserSuggest:function(){this.initUserSuggest(),$("#editwave-users").data("settings").local_data=this.userArray;var e=this.$el.find("#editwave-users");e.tokenInput("clear"),this.wave?this.wave.users.each(function(t){e.tokenInput("add",{id:t.id,name:t.get("name"),readonly:!0})}):e.tokenInput("add",{id:app.model.currentUser.id,name:app.model.currentUser.get("name"),readonly:!0})},show:function(){return ga("send","event","EditWaveView","show"),this.$el.find("#editwave-invitecode-block").hide(),this.wave?(this.$el.find("input[name=title]").val(this.wave.get("title")),this.$el.find("h2").text(__("Edit conversation")),this.$el.find("#editwave-submit").text(__("Save")),this.$el.find("#editwave-invite").show()):(this.$el.find("input[name=title]").val(""),this.$el.find("h2").text(__("Add conversation")),this.$el.find("#editwave-submit").text(__("Create")),this.$el.find("#editwave-invite").hide()),this.updateUserSuggest(),this.$el.show(),$("#darken").show(),this.$el.find("#editwave-title").focus(),!1},hide:function(){return this.$el.hide(),$("#darken").hide(),!1},setWave:function(e){this.wave=this.model.waves.get(e),this.wave&&this.listenTo(this.wave,"inviteCodeReady",this.inviteCodeReady)},editWave:function(){var e=this.$el.find("#editwave-title").val(),t=this.$el.find("#editwave-users").tokenInput("get"),n=_.pluck(t,"id");return this.wave?Communicator.updateWave(this.wave.id,e,n):Communicator.createWave(e,n),this.hide()},getInviteCode:function(e){ga("send","event","EditWaveView","getInviteCode"),e.preventDefault(),this.$el.find("button#editwave-invite").hide(),Communicator.getInviteCode(this.wave.id)},inviteCodeReady:function(e){this.$el.find("#editwave-invitecode-block").show();var t=document.location.protocol+"//"+document.location.host+"/invite/"+e;this.$el.find("#editwave-invitecode").val(t).focus().select()}}),EditUserView=Backbone.View.extend({initialize:function(){_.bindAll(this,"show","hide","testNotification"),this.listenTo(this.model,"change",this.updateFields)},events:{"click a.close":"hide","submit form":"saveUser","click button#edituser-notification-test":"testNotification"},render:function(){var e=_.template($("#edituser_view").text());return this.setElement(e()),this.$el.hide(),this.updateFields(),this},updateFields:function(){this.$el.find("#edituser-name").val(this.model.get("name")),this.$el.find("#edituser-avatar").val(this.model.get("avatar")),this.$el.find("input#edituser-show-pictures").attr("checked",this.model.get("showPictures")),this.$el.find("input#edituser-show-videos").attr("checked",this.model.get("showVideos")),this.$el.find("input#edituser-show-linkpreviews").attr("checked",this.model.get("showLinkPreviews")),this.$el.find("div.avatar").remove();var e="https://secure.gravatar.com/avatar/"+this.model.get("emailMD5")+"?s=80&d=monsterid";this.model.get("googleAvatar")&&this.addAvatarOption(this.model.get("googleAvatar")),this.model.get("facebookAvatar")&&this.addAvatarOption(this.model.get("facebookAvatar")),this.addAvatarOption(e)},addAvatarOption:function(e){var t=$(_.template($("#edituser_avatar_view").text())({url:e}));t.find("img").prop("src",e),e===this.model.get("avatar")&&t.find("input").prop("checked",!0),this.$el.find(".ediutuser-avatar-row .right").append(t)},show:function(){return this.$el.show(),$("#darken").show(),this.checkNotification(),!1},hide:function(){return this.$el.hide(),$("#darken").hide(),!1},saveUser:function(e){e.preventDefault();var t=this.$el.find("#edituser-name").val(),n=this.$el.find("input[name=edituser-avatar-cb]:checked").val();return this.model.set("showPictures",this.$el.find("input#edituser-show-pictures").is(":checked"),{silent:!0}),this.model.set("showVideos",this.$el.find("input#edituser-show-videos").is(":checked"),{silent:!0}),this.model.set("showLinkPreviews",this.$el.find("input#edituser-show-linkpreviews").is(":checked"),{silent:!0}),this.model.saveLocalAttributes(),Communicator.updateUser(t,n),this.hide()},checkNotification:function(){window.Notification||(this.$el.find("#edituser-notification-status").text(__("Not supported")),this.$el.find("#edituser-notification-test").hide()),"granted"===Notification.permission?this.$el.find("#edituser-notification-status").text(__("Enabled")):this.$el.find("#edituser-notification-status").text(__("Disabled"))},testNotification:function(){var e=this;Notification.requestPermission(function(t){if("granted"===t){var n=new Notification("Test notification",{tag:"mentionNotification",icon:"/images/surf-ico.png"});n.onshow=function(){setTimeout(n.close.bind(n),5e3)},e.checkNotification()}})}}),DisconnectedView=Backbone.View.extend({initialize:function(){_.bindAll(this,"show"),this.counterStart=3,this.counter=this.counterStart},render:function(){var e=_.template($("#disconnected_view").text());return this.setElement(e({counter:this.counter})),this.$el.hide(),this},show:function(){if(ga("send","event","DisconnectedView","show","connection",this.model.reconnect?1:0),this.model.reconnect){var e=this;this.interval=setInterval(function(){e.count()},1e3)}else this.$el.find(".countdown").hide();return this.$el.show(),$("#darken").show(),!1},count:function(){if(this.counter--,this.counter>0)this.$el.find(".counter").text(this.counter);else{var e=this;clearInterval(e.interval),$.ajax("images/surf-ico.png?"+Math.random(),{timeout:900}).fail(function(){e.counterStart*=2,e.counter=e.counterStart,e.interval=setInterval(function(){e.count()},1e3)}).done(function(){document.location.href="/"})}}}),SurfAppView=Backbone.View.extend({initialize:function(){_.bindAll(this,"addMessage","showCreateWave","showUpdateWave","showEditUser","hideOverlays","addWave"),this.listenTo(this.model.waves,"add",this.addWave),this.listenTo(this.model.waves,"reset",this.resetWaves),this.listenTo(this.model.waves,"reset",this.handleEmpty),this.listenTo(this.model.waves,"remove",this.handleEmpty),this.listenTo(this.model.messages,"reset",this.resetMessages),this.listenTo(this.model.messages,"add",this.setTitle),this.listenTo(this.model.messages,"change:unread",this.setTitle),this.listenTo(this.model.waves,"readAll",this.setTitle),this.listenTo(this.model.waves,"change:current",this.renderWave),this.listenTo(this.model,"initCurrentUser",this.initCurrentUser),this.listenTo(this.model,"ready",this.handleReady),this.renderedWaves=[],this.waveListViews=[],this.render()},events:{"click a.addwave":"showCreateWave","click a.edituser":"showEditUser","click #darken":"hideOverlays"},render:function(){this.setElement($("body")),this.editWaveView=new EditWaveView({model:this.model}),this.$el.append(this.editWaveView.render().el),this.iconImage=new Image;var e=this;return this.iconImage.onload=function(){e.setTitle()},this.iconImage.src="images/surf-ico.png",$(".empty").hide(),$("body").keydown(function(e){var t=$(e.target).prop("nodeName");"INPUT"!==t&&"TEXTAREA"!==t&&32===e.keyCode&&(e.preventDefault(),app.currentWaveId&&(document.activeElement.blur(),app.model.waves.get(app.currentWaveId).trigger("scrollToNextUnread")))}),$(window).resize(function(){$(window).width()<1e3?($("body").addClass("mobile"),$("body.mobile").on("swiperight",function(){$("body.mobile #wave-list").css("left",0)}),$("body.mobile").on("swipeleft",function(){$("body.mobile #wave-list").css("left","-55%")}),$("body.mobile #header-logo").on("click",function(){return 0===parseInt($("#wave-list").css("left"))?$("body.mobile #wave-list").css("left","-55%"):$("body.mobile #wave-list").css("left",0),!1})):$("body").removeClass("mobile")}).trigger("resize"),this},addWave:function(e){var t=new WaveListView({model:e});this.handleEmpty(),(e.get("archived")?$("#wave-list-archived"):$("#wave-list-active")).append(t.render().el),this.waveListViews.push(t)},resetWaves:function(){this.model.waves.map(this.addWave,this)},renderWave:function(e){if(!_.contains(this.renderedWaves,e)){var t=new WaveView({model:e});$("#wave-container").append(t.render().el),t.setCurrent(),this.renderedWaves.push(e)}},addMessage:function(e){var t=this.model.waves.get(e.get("waveId"));t&&t.addMessage(e)},resetMessages:function(){this.model.messages.map(this.addMessage),this.setTitle()},showCreateWave:function(){return this.editWaveView.setWave(null),this.editWaveView.show(),!1},showUpdateWave:function(){return this.editWaveView.setWave(app.model.waves.get(app.currentWaveId)),this.editWaveView.show(),!1},showEditUser:function(){return this.editUserView&&this.editUserView.show(),!1},showDisconnected:function(e){this.disconnectedView=new DisconnectedView({model:{reconnect:e}}),this.$el.append(this.disconnectedView.render().el),this.disconnectedView.show()},hideOverlays:function(){return _.isUndefined(this.disconnectedView)&&($("#darken").hide(),$(".overlay").hide()),!1},initCurrentUser:function(){var e=new UserView({model:this.model.currentUser});return this.$el.find("#currentuser").html("").append(e.render().el).append(' <p class="currentuser_name">'+this.model.currentUser.escape("name")+"</p>"),this.listenTo(this.model.currentUser,"change:name",this.changeCurrentUserName),this.editUserView=new EditUserView({model:this.model.currentUser}),this.$el.append(this.editUserView.render().el),!1},changeCurrentUserName:function(){return this.$el.find("p.currentuser_name").text(this.model.currentUser.escape("name")),!1},setTitle:function(){if(this.model.ready){var e="SURF",t=this.model.messages.where({unread:!0}).length;t>0&&(e="["+t+"] "+e),$("title").text(e),this.setIcon(t)}},setIcon:function(e){if(this.iconImage.complete)try{var t,n,r,i=document.createElement("canvas");i.width=35,i.height=35,(t=i.getContext("2d")).drawImage(this.iconImage,0,0),e>0&&(n=e>99?"99+":e.toString(),t.fillStyle="#ffffff",t.globalAlpha=.7,t.fillRect(34-9*n.length,21,9*n.length+1,14),t.globalAlpha=1,t.fillStyle="#847099",t.font="bold 16px sans-serif",t.fillText(n,35-9*n.length,35)),(r=document.createElement("link")).type="image/x-icon",r.rel="shortcut icon",r.href=i.toDataURL("image/x-icon"),$('link[rel="shortcut icon"]').remove(),$("head").append(r)}catch(e){return e}},handleEmpty:function(){0===app.model.waves.length?$(".empty").show():$(".empty").hide()},handleReady:function(){this.handleArchiveChange(),this.setTitle(),this.listenTo(this.model.waves,"change:archived",this.handleArchiveChange),this.listenTo(this.model.waves,"add",this.handleArchiveChange)},handleArchiveChange:function(){this.waveListViews.forEach(function(e){e.remove()}),this.waveListViews=[],this.model.waves.forEach(this.addWave,this),0===this.model.waves.filter({archived:!1}).length?$("#wave-list-active").hide():$("#wave-list-active").show(),0===this.model.waves.filter({archived:!0}).length?$("#wave-list-archived").hide():$("#wave-list-archived").show()}}),Communicator={socket:null,reconnect:!0,createTitle:null,readQueue:[],queueReads:!1,initialize:function(){if(void 0!==window.io){var e=this;this.socket=io(document.location.href,{reconnection:!1}),this.socket.on("init",function(t){e.onInit(t)}),this.socket.on("message",function(t){e.onMessage(t)}),this.socket.on("disconnect",function(){app.view.showDisconnected(e.reconnect)}),this.socket.on("updateUser",this.onUpdateUser),this.socket.on("updateWave",function(t){e.onUpdateWave(t)}),this.socket.on("inviteCodeReady",this.onInviteCodeReady),this.socket.on("linkPreviewReady",this.onLinkPreviewReady),this.socket.on("dontReconnect",function(){e.reconnect=!1}),this.socket.on("ready",function(){e.queueReads=app.model.messages.where({unread:!0}).length>1,app.showLastWave(),app.model.setReady()})}else console.error("no io")},onInit:function(e){null===app.model.currentUser&&(e.users.push(e.me),app.model.users.reset(e.users),app.model.initCurrentUser(app.model.users.get(e.me._id)),app.model.waves.reset(e.waves))},sendMessage:function(e,t,n){var r={userId:app.model.currentUser.id,waveId:t,message:e,parentId:n};this.socket.emit("message",r)},readMessage:function(e){this.queueReads?(this.readQueue.push(e),this.queueReads=!1):(this.readQueue.forEach(function(e){this.socket.emit("readMessage",{id:e.id,waveId:e.get("waveId")})},this),this.readQueue=[],this.socket.emit("readMessage",{id:e.id,waveId:e.get("waveId")}))},readAllMessages:function(e){this.socket.emit("readAllMessages",{waveId:e.id})},createWave:function(e,t){var n={title:e,userIds:t};this.createTitle=e,this.socket.emit("createWave",n)},updateWave:function(e,t,n){var r={id:e,title:t,userIds:n};this.socket.emit("updateWave",r)},onMessage:function(e){if(e.messages)_.each(e.messages,function(e){this.onMessage(e)},this);else{var t=new Message(e);app.model.waves.get(e.waveId).addMessage(t)&&app.model.messages.add(t)}},onUpdateUser:function(e){var t=e.user;app.model.users.get(t._id)?app.model.users.get(t._id).update(t):app.model.users.add(new User(t))},onUpdateWave:function(e){var t,n=e.wave;app.model.waves.get(n._id)?app.model.waves.get(n._id).update(n):(t=new Wave(n),app.model.waves.add(t),1!==app.model.waves.length&&this.createTitle!==t.get("title")||app.navigate("wave/"+t.id,{trigger:!0}))},getMessages:function(e,t,n){var r={waveId:e.id,minParentId:t,maxRootId:n};this.socket.emit("getMessages",r)},getUser:function(e){var t={userId:e};this.socket.emit("getUser",t)},quitUser:function(e){var t={waveId:e};this.socket.emit("quitWave",t)},getInviteCode:function(e){var t={waveId:e};this.socket.emit("createInviteCode",t)},onInviteCodeReady:function(e){app.model.waves.get(e.waveId)&&app.model.waves.get(e.waveId).trigger("inviteCodeReady",e.code)},updateUser:function(e,t){var n={name:e,avatar:t};this.socket.emit("updateUser",n)},getLinkPreview:function(e,t){this.socket.emit("getLinkPreview",{msgId:t.id,url:e})},onLinkPreviewReady:function(e){app.model.messages.get(e.msgId)&&app.model.messages.get(e.msgId).addLinkPreview(e.data)}},SurfAppRouter=Backbone.Router.extend({defaults:{currentWaveId:null},initialize:function(){this.model=new SurfAppModel,this.view=new SurfAppView({model:this.model})},routes:{"wave/:number":"showWave"},showWave:function(e){this.model.waves.get(e)?(this.currentWaveId&&this.model.waves.get(this.currentWaveId).set("current",!1),this.model.waves.get(e).set("current",!0),this.currentWaveId=e):this.model.waves.length?this.showLastWave():this.navigate("/")},showLastWave:function(){var e,t;(e=this.model.messages.last())?this.navigate("wave/"+e.get("waveId"),{trigger:!0}):(t=this.model.waves.last(),this.showWave(t?t.id:null))}});window.onerror=function(e,t,n){var r={prefix:"JSERROR",errorMessage:e+" in "+t+" on line "+n+". URL: "+window.location.href+" BROWSER: "+navigator.userAgent};$.post("/logError",r)},$(function(){_.templateSettings={interpolate:/{|\|([\s\S]+?)\|}/g,escape:/{{([\s\S]+?)}}/g};var e=new SurfAppRouter;window.app=e,window.messageTemplate=_.template($("#message_view").text()),window.linkPreviewTemplate=_.template($("#message_linkpreview_view").text()),window.waveTemplate=_.template($("#wave_view").text()),Backbone.history.start(),Communicator.initialize()});